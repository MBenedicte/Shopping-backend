{"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/app.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/app.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"4":{"start":{"line":12,"column":14},"end":{"line":12,"column":57}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":64}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":12},"end":{"line":18,"column":35}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":36}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":36}},"10":{"start":{"line":21,"column":13},"end":{"line":21,"column":37}},"11":{"start":{"line":22,"column":15},"end":{"line":22,"column":31}},"12":{"start":{"line":23,"column":0},"end":{"line":23,"column":28}},"13":{"start":{"line":26,"column":2},"end":{"line":28,"column":3}},"14":{"start":{"line":27,"column":4},"end":{"line":27,"column":16}},"15":{"start":{"line":31,"column":2},"end":{"line":44,"column":3}},"16":{"start":{"line":33,"column":6},"end":{"line":33,"column":69}},"17":{"start":{"line":34,"column":6},"end":{"line":34,"column":22}},"18":{"start":{"line":35,"column":6},"end":{"line":35,"column":12}},"19":{"start":{"line":38,"column":6},"end":{"line":38,"column":63}},"20":{"start":{"line":39,"column":6},"end":{"line":39,"column":22}},"21":{"start":{"line":40,"column":6},"end":{"line":40,"column":12}},"22":{"start":{"line":43,"column":6},"end":{"line":43,"column":18}},"23":{"start":{"line":47,"column":0},"end":{"line":47,"column":60}},"24":{"start":{"line":47,"column":29},"end":{"line":47,"column":58}},"25":{"start":{"line":48,"column":15},"end":{"line":48,"column":18}},"26":{"start":{"line":49,"column":0},"end":{"line":49,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16},"1":{"name":"onError","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":16}},"loc":{"start":{"line":25,"column":24},"end":{"line":45,"column":1}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":47,"column":23},"end":{"line":47,"column":24}},"loc":{"start":{"line":47,"column":29},"end":{"line":47,"column":58}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":21,"column":13},"end":{"line":21,"column":37}},"type":"binary-expr","locations":[{"start":{"line":21,"column":13},"end":{"line":21,"column":29}},{"start":{"line":21,"column":33},"end":{"line":21,"column":37}}],"line":21},"3":{"loc":{"start":{"line":26,"column":2},"end":{"line":28,"column":3}},"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":28,"column":3}},{"start":{"line":26,"column":2},"end":{"line":28,"column":3}}],"line":26},"4":{"loc":{"start":{"line":31,"column":2},"end":{"line":44,"column":3}},"type":"switch","locations":[{"start":{"line":32,"column":4},"end":{"line":35,"column":12}},{"start":{"line":37,"column":4},"end":{"line":40,"column":12}},{"start":{"line":42,"column":4},"end":{"line":43,"column":18}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":1,"26":1},"f":{"0":3,"1":0,"2":1},"b":{"0":[1,2],"1":[3,3],"2":[1,0],"3":[0,0],"4":[0,0,0]},"inputSourceMap":{"version":3,"sources":["app.js"],"names":["app","use","body_parser","json","routes","PORT","process","env","server","listen","on","onError","error","syscall","code","stdout","write","exit","console","log"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,uBAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQC,oBAAYC,IAAZ,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQ,SAAR,EAAmBG,eAAnB;AACA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AAEA,MAAMG,MAAM,GAAGR,GAAG,CAACS,MAAJ,CAAWJ,IAAX,CAAf;AAEAG,MAAM,CAACE,EAAP,CAAU,OAAV,EAAmBC,OAAnB;;AAEA,SAASA,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,MAAIA,KAAK,CAACC,OAAN,KAAkB,QAAtB,EAAgC;AAC9B,UAAMD,KAAN;AACD,GAHqB,CAItB;;;AACA,UAAQA,KAAK,CAACE,IAAd;AACE,SAAK,QAAL;AACER,MAAAA,OAAO,CAACS,MAAR,CAAeC,KAAf,CAAsB,GAAEX,IAAK,iCAA7B;AACAC,MAAAA,OAAO,CAACW,IAAR,CAAa,CAAb;AACA;;AACF,SAAK,YAAL;AACEX,MAAAA,OAAO,CAACS,MAAR,CAAeC,KAAf,CAAsB,QAAOX,IAAK,sBAAlC;AACAC,MAAAA,OAAO,CAACW,IAAR,CAAa,CAAb;AACA;;AACF;AACE,YAAML,KAAN;AAVJ;AAYD;;AAEDJ,MAAM,CAACE,EAAP,CAAU,WAAV,EAAuB,MAAMQ,OAAO,CAACC,GAAR,CAAa,gBAAb,CAA7B;eAEenB,G","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src","sourcesContent":["import express from 'express';\nimport 'dotenv/config';\nimport routes from './routes';\nimport body_parser from 'body-parser';\n\nconst app = express();\napp.use(body_parser.json());\napp.use('/api/v1', routes);\nconst PORT = process.env.PORT || 3000;\n\nconst server = app.listen(PORT);\n\nserver.on('error', onError);\n\nfunction onError(error) {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n  // handle specific listen errors with friendly messages\n  switch (error.code) {\n    case 'EACCES':\n      process.stdout.write(`${PORT} requires elevated privileges\\n`);\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      process.stdout.write(`port ${PORT} is already in use\\n`);\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\nserver.on('listening', () => console.log(`App is running`));\n\nexport default app;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"de1a5d62fd17a3b565e641fafd244633358db710","contentHash":"d09993be947c7af9ede13d62306c8aa42270ca2f116c6dd9a6d0bd1b52951d36"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes/index.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":59}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":37}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":35}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":35}},"9":{"start":{"line":19,"column":15},"end":{"line":19,"column":21}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":2},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["router","use","users","shops"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,GAAP,CAAW,OAAX,EAAoBC,aAApB;AACAF,MAAM,CAACC,GAAP,CAAW,OAAX,EAAoBE,aAApB;eAEeH,M","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes","sourcesContent":["import { Router } from 'express';\nimport users from './user.route';\nimport shops from './shop.route';\n\nconst router = Router();\n\nrouter.use('/auth', users);\nrouter.use('/shop', shops);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"75334898754bb792f49ffadcc85fd846853624d3","contentHash":"f77bbdd6e754b4481fb58ab22e9bf1efe6a6d90978c41a14ae05de27dad597c3"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes/user.route.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes/user.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":45}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":54}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":88}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":14},"end":{"line":18,"column":36}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":120}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":76}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":83}},"11":{"start":{"line":22,"column":0},"end":{"line":22,"column":81}},"12":{"start":{"line":23,"column":15},"end":{"line":23,"column":20}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["user.route.js"],"names":["users","post","validation","checkNumberExistMiddleware","UserController","createUser","put","sendVerification","patch","activateUser","isUserActive","loginUser"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAKA;;;;AAEA,MAAMA,KAAK,GAAG,sBAAd;AAEAA,KAAK,CAACC,IAAN,CACE,WADF,EAEEC,mBAFF,EAGEC,iCAHF,EAIEC,4BAAeC,UAJjB;AAOAL,KAAK,CAACM,GAAN,CAAU,kBAAV,EAA8BF,4BAAeG,gBAA7C;AACAP,KAAK,CAACQ,KAAN,CAAY,2BAAZ,EAAyCJ,4BAAeK,YAAxD;AACAT,KAAK,CAACC,IAAN,CAAW,QAAX,EAAqBS,mBAArB,EAAmCN,4BAAeO,SAAlD;eACeX,K","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes","sourcesContent":["import { Router } from 'express';\nimport { UserController } from '../controllers/';\nimport {\n  checkUserExistMiddleware,\n  isUserActive,\n  checkNumberExistMiddleware\n} from '../middleware/users.middleware';\nimport validation from '../middleware/validation.middleware';\n\nconst users = Router();\n\nusers.post(\n  '/register',\n  validation,\n  checkNumberExistMiddleware,\n  UserController.createUser\n);\n\nusers.put('/register/verify', UserController.sendVerification);\nusers.patch('/register/activate/:phone', UserController.activateUser);\nusers.post('/login', isUserActive, UserController.loginUser);\nexport default users;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6897df9a7affc590298a058b1e39229e608e2449","contentHash":"343790056578be2503d5080a78f8b597ddb9964365c2cc901124a2c538f52661"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers/index.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":11,"column":3}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":35}},"3":{"start":{"line":12,"column":0},"end":{"line":17,"column":3}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":35}},"5":{"start":{"line":19,"column":22},"end":{"line":19,"column":73}},"6":{"start":{"line":21,"column":22},"end":{"line":21,"column":73}},"7":{"start":{"line":23,"column":39},"end":{"line":23,"column":93}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":7},"end":{"line":8,"column":8}},"loc":{"start":{"line":8,"column":19},"end":{"line":10,"column":3}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":7},"end":{"line":14,"column":8}},"loc":{"start":{"line":14,"column":19},"end":{"line":16,"column":3}},"line":14},"2":{"name":"_interopRequireDefault","decl":{"start":{"line":23,"column":9},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":37},"end":{"line":23,"column":95}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":92}},"type":"cond-expr","locations":[{"start":{"line":23,"column":70},"end":{"line":23,"column":73}},{"start":{"line":23,"column":76},"end":{"line":23,"column":92}}],"line":23},"1":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":67}},"type":"binary-expr","locations":[{"start":{"line":23,"column":46},"end":{"line":23,"column":49}},{"start":{"line":23,"column":53},"end":{"line":23,"column":67}}],"line":23}},"s":{"0":1,"1":1,"2":4,"3":1,"4":3,"5":1,"6":1,"7":2},"f":{"0":4,"1":3,"2":2},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AACA","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers","sourcesContent":["import UserController from './UserController';\nimport ShopController from './ShopController'\n\nexport { UserController, ShopController };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ad1e74ce117c69bf8715fecb44d7a7492457e36f","contentHash":"d7a05c6a125a94427a51e86949d4d52afc8f0e6cba032b350fdbfb3971a7176f"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers/UserController.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers/UserController.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":53}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":36}},"4":{"start":{"line":12,"column":15},"end":{"line":12,"column":36}},"5":{"start":{"line":14,"column":18},"end":{"line":14,"column":73}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":58}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"8":{"start":{"line":27,"column":8},"end":{"line":27,"column":16}},"9":{"start":{"line":28,"column":20},"end":{"line":33,"column":5}},"10":{"start":{"line":34,"column":4},"end":{"line":34,"column":62}},"11":{"start":{"line":35,"column":20},"end":{"line":35,"column":65}},"12":{"start":{"line":36,"column":4},"end":{"line":36,"column":315}},"13":{"start":{"line":40,"column":18},"end":{"line":43,"column":6}},"14":{"start":{"line":44,"column":17},"end":{"line":44,"column":49}},"15":{"start":{"line":45,"column":4},"end":{"line":62,"column":7}},"16":{"start":{"line":48,"column":6},"end":{"line":61,"column":7}},"17":{"start":{"line":49,"column":8},"end":{"line":49,"column":113}},"18":{"start":{"line":51,"column":8},"end":{"line":60,"column":9}},"19":{"start":{"line":52,"column":10},"end":{"line":52,"column":63}},"20":{"start":{"line":53,"column":10},"end":{"line":57,"column":13}},"21":{"start":{"line":59,"column":10},"end":{"line":59,"column":149}},"22":{"start":{"line":68,"column":8},"end":{"line":68,"column":18}},"23":{"start":{"line":71,"column":8},"end":{"line":71,"column":16}},"24":{"start":{"line":72,"column":17},"end":{"line":79,"column":6}},"25":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"26":{"start":{"line":82,"column":6},"end":{"line":82,"column":98}},"27":{"start":{"line":85,"column":4},"end":{"line":85,"column":98}},"28":{"start":{"line":92,"column":8},"end":{"line":92,"column":16}},"29":{"start":{"line":93,"column":17},"end":{"line":95,"column":6}},"30":{"start":{"line":96,"column":28},"end":{"line":96,"column":79}},"31":{"start":{"line":98,"column":4},"end":{"line":106,"column":5}},"32":{"start":{"line":99,"column":20},"end":{"line":99,"column":68}},"33":{"start":{"line":100,"column":6},"end":{"line":105,"column":9}},"34":{"start":{"line":108,"column":4},"end":{"line":108,"column":90}},"35":{"start":{"line":113,"column":0},"end":{"line":113,"column":33}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":21,"column":2},"end":{"line":21,"column":3}},"loc":{"start":{"line":21,"column":36},"end":{"line":37,"column":3}},"line":21},"2":{"name":"(anonymous_2)","decl":{"start":{"line":39,"column":2},"end":{"line":39,"column":3}},"loc":{"start":{"line":39,"column":42},"end":{"line":63,"column":3}},"line":39},"3":{"name":"(anonymous_3)","decl":{"start":{"line":47,"column":7},"end":{"line":47,"column":8}},"loc":{"start":{"line":47,"column":36},"end":{"line":62,"column":5}},"line":47},"4":{"name":"(anonymous_4)","decl":{"start":{"line":65,"column":2},"end":{"line":65,"column":3}},"loc":{"start":{"line":65,"column":38},"end":{"line":86,"column":3}},"line":65},"5":{"name":"(anonymous_5)","decl":{"start":{"line":88,"column":2},"end":{"line":88,"column":3}},"loc":{"start":{"line":88,"column":35},"end":{"line":109,"column":3}},"line":88}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":314}},"type":"cond-expr","locations":[{"start":{"line":36,"column":67},"end":{"line":36,"column":204}},{"start":{"line":36,"column":207},"end":{"line":36,"column":314}}],"line":36},"3":{"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":64}},"type":"binary-expr","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":17}},{"start":{"line":36,"column":21},"end":{"line":36,"column":64}}],"line":36},"4":{"loc":{"start":{"line":48,"column":6},"end":{"line":61,"column":7}},"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":61,"column":7}},{"start":{"line":48,"column":6},"end":{"line":61,"column":7}}],"line":48},"5":{"loc":{"start":{"line":51,"column":8},"end":{"line":60,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":60,"column":9}},{"start":{"line":51,"column":8},"end":{"line":60,"column":9}}],"line":51},"6":{"loc":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},{"start":{"line":81,"column":4},"end":{"line":83,"column":5}}],"line":81},"7":{"loc":{"start":{"line":98,"column":4},"end":{"line":106,"column":5}},"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":106,"column":5}},{"start":{"line":98,"column":4},"end":{"line":106,"column":5}}],"line":98}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":3,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1},"f":{"0":3,"1":1,"2":0,"3":0,"4":0,"5":0},"b":{"0":[2,1],"1":[3,3],"2":[0,1],"3":[1,1],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["UserController.js"],"names":["UserController","createUser","req","res","firstName","lastName","username","phone","body","newUser","password","created","error","name","statusCode","SERVER_ERROR","errors","message","CREATED","sendVerification","nexmo","Nexmo","apiKey","apiSecret","text","Math","ceil","random","sendSms","type","err","responseData","messages","OK","to","code","activateUser","params","verificationCode","user","db","User","update","isVerified","where","NOT_FOUND","loginUser","correctPassword","token"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AACe,MAAMA,cAAN,CAAqB;AAClC,eAAaC,UAAb,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;AAChC,UAAM;AAAEC,MAAAA,SAAF;AAAaC,MAAAA,QAAb;AAAuBC,MAAAA,QAAvB;AAAiCC,MAAAA;AAAjC,QAA2CL,GAAG,CAACM,IAArD;AACA,UAAMC,OAAO,GAAG;AAAEL,MAAAA,SAAF;AAAaC,MAAAA,QAAb;AAAuBC,MAAAA,QAAvB;AAAiCC,MAAAA;AAAjC,KAAhB;AACAL,IAAAA,GAAG,CAACM,IAAJ,CAASE,QAAT,GAAoB,mBAAKR,GAAG,CAACM,IAAJ,CAASE,QAAd,CAApB;AACA,UAAMC,OAAO,GAAG,MAAM,8BAAgBT,GAAG,CAACM,IAApB,CAAtB;AAEAG,IAAAA,OAAO,CAACC,KAAR,IAAiBD,OAAO,CAACE,IAAR,KAAiB,0BAAlC,GACI,4BACEV,GADF,EAEEW,oBAAWC,YAFb,EAGE,oCAHF,EAIEJ,OAAO,CAACC,KAAR,CAAcI,MAAd,CAAqB,CAArB,EAAwBC,OAJ1B,CADJ,GAOI,8BACEd,GADF,EAEEW,oBAAWI,OAFb,EAGE,iCAHF,EAIET,OAJF,CAPJ;AAaD;;AACD,eAAaU,gBAAb,CAA8BjB,GAA9B,EAAmCC,GAAnC,EAAwC;AACtC,UAAMiB,KAAK,GAAG,IAAIC,cAAJ,CAAU;AACtBC,MAAAA,MAAM,EAAE,UADc;AAEtBC,MAAAA,SAAS,EAAE;AAFW,KAAV,CAAd;AAIA,UAAMC,IAAI,GAAGC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,KAA1B,CAAb;AACAP,IAAAA,KAAK,CAACH,OAAN,CAAcW,OAAd,CACE,OADF,EAEE1B,GAAG,CAACM,IAAJ,CAASD,KAFX,EAGEiB,IAHF,EAIE;AACEK,MAAAA,IAAI,EAAE;AADR,KAJF,EAOE,OAAOC,GAAP,EAAYC,YAAZ,KAA6B;AAC3B,UAAID,GAAJ,EAAS;AACP,oCACE3B,GADF,EAEEW,oBAAWC,YAFb,EAGE,oCAHF;AAKD,OAND,MAMO;AACL,YAAIgB,YAAY,CAACC,QAAb,CAAsB,CAAtB,EAAyB,QAAzB,MAAuC,GAA3C,EAAgD;AAC9C,gBAAM,yBAAWR,IAAX,EAAiBtB,GAAG,CAACM,IAAJ,CAASD,KAA1B,CAAN;AAEA,wCACEJ,GADF,EAEEW,oBAAWmB,EAFb,EAGE,+BAHF,EAIE;AACEC,YAAAA,EAAE,EAAEH,YAAY,CAACC,QAAb,CAAsB,CAAtB,EAAyB,IAAzB,CADN;AAEE,0BAAcD,YAAY,CAACC,QAAb,CAAsB,CAAtB,EAAyB,YAAzB,CAFhB;AAGEG,YAAAA,IAAI,EAAEX;AAHR,WAJF;AAUD,SAbD,MAaO;AACL,sCACErB,GADF,EAEEW,oBAAWC,YAFb,EAGG,8BAA6BgB,YAAY,CAACC,QAAb,CAAsB,CAAtB,EAAyB,YAAzB,CAAuC,EAHvE;AAKD;AACF;AACF,KApCH;AAsCD;;AACD,eAAaI,YAAb,CAA0BlC,GAA1B,EAA+BC,GAA/B,EAAoC;AAClC,UAAM;AAAEI,MAAAA;AAAF,QAAYL,GAAG,CAACmC,MAAtB;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAuBpC,GAAG,CAACM,IAAjC;AACA,UAAM+B,IAAI,GAAG,MAAMC,gBAAGC,IAAH,CAAQC,MAAR,CACjB;AAAEC,MAAAA,UAAU,EAAE;AAAd,KADiB,EAEjB;AAAEC,MAAAA,KAAK,EAAE;AAAErC,QAAAA,KAAF;AAAS+B,QAAAA;AAAT;AAAT,KAFiB,CAAnB;;AAKA,QAAIC,IAAI,CAAC,CAAD,CAAJ,KAAY,CAAhB,EAAmB;AACjB,kCAAcpC,GAAd,EAAmBW,oBAAW+B,SAA9B,EAAyC,0BAAzC;AACD;;AACD,kCAAgB1C,GAAhB,EAAqBW,oBAAWmB,EAAhC,EAAoC,iCAApC;AACD;;AACD,eAAaa,SAAb,CAAuB5C,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,UAAM;AAAEI,MAAAA,KAAF;AAASG,MAAAA;AAAT,QAAsBR,GAAG,CAACM,IAAhC;AACA,UAAM+B,IAAI,GAAG,MAAM,uBAAS;AAAEhC,MAAAA;AAAF,KAAT,CAAnB;AACA,UAAMwC,eAAe,GAAG,2BAAarC,QAAb,EAAuB6B,IAAI,CAAC7B,QAA5B,CAAxB;;AACA,QAAIqC,eAAJ,EAAqB;AACnB,YAAMC,KAAK,GAAG,MAAM,0BAAYzC,KAAZ,EAAmBG,QAAnB,CAApB;AACA,oCAAgBP,GAAhB,EAAqBW,oBAAWmB,EAAhC,EAAoC,wBAApC,EAA8D;AAC5D7B,QAAAA,SAAS,EAAEmC,IAAI,CAACnC,SAD4C;AAE5DC,QAAAA,QAAQ,EAAEkC,IAAI,CAAClC,QAF6C;AAG5DC,QAAAA,QAAQ,EAAEiC,IAAI,CAACjC,QAH6C;AAI5D0C,QAAAA;AAJ4D,OAA9D;AAMD;;AACD,gCAAc7C,GAAd,EAAmBW,oBAAW+B,SAA9B,EAAyC,oBAAzC;AACD;;AA7FiC","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers","sourcesContent":["import Nexmo from 'nexmo';\nimport { createUserQuery, updateUser, findUser } from '../queries';\nimport { hash, createToken, verifyHashed } from '../helpers';\nimport statusCode from '../config/statusCode';\nimport { successResponse, errorResponse } from '../helpers';\nimport db from '../models';\nexport default class UserController {\n  static async createUser(req, res) {\n    const { firstName, lastName, username, phone } = req.body;\n    const newUser = { firstName, lastName, username, phone };\n    req.body.password = hash(req.body.password);\n    const created = await createUserQuery(req.body);\n\n    created.error || created.name === 'SequelizeValidationError'\n      ? errorResponse(\n          res,\n          statusCode.SERVER_ERROR,\n          'Something went wrong, please retry',\n          created.error.errors[0].message\n        )\n      : successResponse(\n          res,\n          statusCode.CREATED,\n          'You are successfully registered',\n          newUser\n        );\n  }\n  static async sendVerification(req, res) {\n    const nexmo = new Nexmo({\n      apiKey: '694a8c0f',\n      apiSecret: 'S4KL6cFvYQAXcdk4'\n    });\n    const text = Math.ceil(Math.random() * 10000);\n    nexmo.message.sendSms(\n      'Nexmo',\n      req.body.phone,\n      text,\n      {\n        type: 'unicode'\n      },\n      async (err, responseData) => {\n        if (err) {\n          errorResponse(\n            res,\n            statusCode.SERVER_ERROR,\n            'Something went wrong, please retry'\n          );\n        } else {\n          if (responseData.messages[0]['status'] === '0') {\n            await updateUser(text, req.body.phone);\n\n            successResponse(\n              res,\n              statusCode.OK,\n              'Check a code from your phone ',\n              {\n                to: responseData.messages[0]['to'],\n                'message-id': responseData.messages[0]['message-id'],\n                code: text\n              }\n            );\n          } else {\n            errorResponse(\n              res,\n              statusCode.SERVER_ERROR,\n              `Message failed with error: ${responseData.messages[0]['error-text']}`\n            );\n          }\n        }\n      }\n    );\n  }\n  static async activateUser(req, res) {\n    const { phone } = req.params;\n    const { verificationCode } = req.body;\n    const user = await db.User.update(\n      { isVerified: true },\n      { where: { phone, verificationCode } }\n    );\n\n    if (user[0] === 0) {\n      errorResponse(res, statusCode.NOT_FOUND, 'Such user does not exist');\n    }\n    successResponse(res, statusCode.OK, 'Your account has been activated');\n  }\n  static async loginUser(req, res) {\n    const { phone, password } = req.body;\n    const user = await findUser({ phone });\n    const correctPassword = verifyHashed(password, user.password);\n    if (correctPassword) {\n      const token = await createToken(phone, password);\n      successResponse(res, statusCode.OK, 'Successfully logged in', {\n        firstName: user.firstName,\n        lastName: user.lastName,\n        username: user.username,\n        token\n      });\n    }\n    errorResponse(res, statusCode.NOT_FOUND, 'Incorrect password');\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"04dc78719b6eb43efe44410e355bccd09779ec24","contentHash":"f6e3834a6192b14ac5ec4e0346ba42e48de1c30061e844bc20b6379b4640acba"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/index.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":11,"column":3}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":31}},"3":{"start":{"line":12,"column":0},"end":{"line":17,"column":3}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":29}},"5":{"start":{"line":18,"column":0},"end":{"line":23,"column":3}},"6":{"start":{"line":21,"column":4},"end":{"line":21,"column":31}},"7":{"start":{"line":24,"column":0},"end":{"line":29,"column":3}},"8":{"start":{"line":27,"column":4},"end":{"line":27,"column":31}},"9":{"start":{"line":30,"column":0},"end":{"line":35,"column":3}},"10":{"start":{"line":33,"column":4},"end":{"line":33,"column":29}},"11":{"start":{"line":36,"column":0},"end":{"line":41,"column":3}},"12":{"start":{"line":39,"column":4},"end":{"line":39,"column":31}},"13":{"start":{"line":42,"column":0},"end":{"line":47,"column":3}},"14":{"start":{"line":45,"column":4},"end":{"line":45,"column":33}},"15":{"start":{"line":49,"column":18},"end":{"line":49,"column":71}},"16":{"start":{"line":51,"column":16},"end":{"line":51,"column":67}},"17":{"start":{"line":53,"column":18},"end":{"line":53,"column":71}},"18":{"start":{"line":55,"column":18},"end":{"line":55,"column":71}},"19":{"start":{"line":57,"column":16},"end":{"line":57,"column":67}},"20":{"start":{"line":59,"column":18},"end":{"line":59,"column":71}},"21":{"start":{"line":61,"column":20},"end":{"line":61,"column":75}},"22":{"start":{"line":63,"column":39},"end":{"line":63,"column":93}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":7},"end":{"line":8,"column":8}},"loc":{"start":{"line":8,"column":19},"end":{"line":10,"column":3}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":7},"end":{"line":14,"column":8}},"loc":{"start":{"line":14,"column":19},"end":{"line":16,"column":3}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":7},"end":{"line":20,"column":8}},"loc":{"start":{"line":20,"column":19},"end":{"line":22,"column":3}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":7},"end":{"line":26,"column":8}},"loc":{"start":{"line":26,"column":19},"end":{"line":28,"column":3}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":7},"end":{"line":32,"column":8}},"loc":{"start":{"line":32,"column":19},"end":{"line":34,"column":3}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":38,"column":7},"end":{"line":38,"column":8}},"loc":{"start":{"line":38,"column":19},"end":{"line":40,"column":3}},"line":38},"6":{"name":"(anonymous_6)","decl":{"start":{"line":44,"column":7},"end":{"line":44,"column":8}},"loc":{"start":{"line":44,"column":19},"end":{"line":46,"column":3}},"line":44},"7":{"name":"_interopRequireDefault","decl":{"start":{"line":63,"column":9},"end":{"line":63,"column":31}},"loc":{"start":{"line":63,"column":37},"end":{"line":63,"column":95}},"line":63}},"branchMap":{"0":{"loc":{"start":{"line":63,"column":46},"end":{"line":63,"column":92}},"type":"cond-expr","locations":[{"start":{"line":63,"column":70},"end":{"line":63,"column":73}},{"start":{"line":63,"column":76},"end":{"line":63,"column":92}}],"line":63},"1":{"loc":{"start":{"line":63,"column":46},"end":{"line":63,"column":67}},"type":"binary-expr","locations":[{"start":{"line":63,"column":46},"end":{"line":63,"column":49}},{"start":{"line":63,"column":53},"end":{"line":63,"column":67}}],"line":63}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":1,"10":0,"11":1,"12":0,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":7},"f":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":7},"b":{"0":[7,0],"1":[7,7]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries","sourcesContent":["import createUserQuery from './users/createUser';\nimport findUser from './users/findUser';\nimport updateUser from './users/updateUser';\n\nimport createShop from './shops/createShop';\nimport findShop from './shops/findShop';\nimport deleteShop from './shops/deleteShop';\nimport findAllShops from './shops/findAllShops';\n\nexport {\n  createUserQuery,\n  findUser,\n  updateUser,\n  createShop,\n  findShop,\n  deleteShop,\n  findAllShops\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ae8a4f564e52965c45787c2989b040bf674b077","contentHash":"97acd4f489fb58a78cd3ffb07324a9c675cba006da9c6342f3c122469a0a2ec8"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users/createUser.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users/createUser.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":24},"end":{"line":23,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":22,"column":3}},"6":{"start":{"line":14,"column":17},"end":{"line":16,"column":6}},"7":{"start":{"line":17,"column":4},"end":{"line":17,"column":16}},"8":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"9":{"start":{"line":25,"column":15},"end":{"line":25,"column":30}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":24},"end":{"line":12,"column":25}},"loc":{"start":{"line":12,"column":38},"end":{"line":23,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1},"f":{"0":1,"1":1},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["createUser.js"],"names":["createUserQuery","data","user","db","User","create","logging","error"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,eAAe,GAAG,MAAMC,IAAN,IAAc;AACpC,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMC,gBAAGC,IAAH,CAAQC,MAAR,CAAeJ,IAAf,EAAqB;AAAEK,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAnB;AACA,WAAOJ,IAAP;AACD,GAHD,CAGE,OAAOK,KAAP,EAAc;AACd,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACD;AACF,CAPD;;eAQeP,e","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users","sourcesContent":["import db from '../../models';\n\nconst createUserQuery = async data => {\n  try {\n    const user = await db.User.create(data, { logging: false });\n    return user;\n  } catch (error) {\n    return { error };\n  }\n};\nexport default createUserQuery;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e9a282b978d6d3a147a5ac76db09b4b50e96980b","contentHash":"1e52262adbf23aeb8ee1292990955cf83958b9dd4d404fb774d24de087a9fe22"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/index.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":10},"end":{"line":8,"column":47}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":51}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":61}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":69}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":18,"column":17},"end":{"line":18,"column":51}},"8":{"start":{"line":20,"column":12},"end":{"line":20,"column":49}},"9":{"start":{"line":21,"column":15},"end":{"line":21,"column":37}},"10":{"start":{"line":22,"column":11},"end":{"line":22,"column":13}},"11":{"start":{"line":23,"column":18},"end":{"line":23,"column":196}},"12":{"start":{"line":25,"column":0},"end":{"line":30,"column":3}},"13":{"start":{"line":26,"column":2},"end":{"line":26,"column":82}},"14":{"start":{"line":28,"column":16},"end":{"line":28,"column":72}},"15":{"start":{"line":29,"column":2},"end":{"line":29,"column":25}},"16":{"start":{"line":32,"column":0},"end":{"line":36,"column":3}},"17":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":32}},"19":{"start":{"line":37,"column":0},"end":{"line":37,"column":25}},"20":{"start":{"line":38,"column":0},"end":{"line":38,"column":34}},"21":{"start":{"line":39,"column":15},"end":{"line":39,"column":17}},"22":{"start":{"line":40,"column":0},"end":{"line":40,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":25,"column":42},"end":{"line":25,"column":43}},"loc":{"start":{"line":25,"column":50},"end":{"line":27,"column":1}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":11},"end":{"line":27,"column":12}},"loc":{"start":{"line":27,"column":19},"end":{"line":30,"column":1}},"line":27},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":24},"end":{"line":32,"column":25}},"loc":{"start":{"line":32,"column":37},"end":{"line":36,"column":1}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":20,"column":12},"end":{"line":20,"column":49}},"type":"binary-expr","locations":[{"start":{"line":20,"column":12},"end":{"line":20,"column":32}},{"start":{"line":20,"column":36},"end":{"line":20,"column":49}}],"line":20},"3":{"loc":{"start":{"line":23,"column":18},"end":{"line":23,"column":196}},"type":"cond-expr","locations":[{"start":{"line":23,"column":44},"end":{"line":23,"column":112}},{"start":{"line":23,"column":115},"end":{"line":23,"column":196}}],"line":23},"4":{"loc":{"start":{"line":26,"column":9},"end":{"line":26,"column":81}},"type":"binary-expr","locations":[{"start":{"line":26,"column":9},"end":{"line":26,"column":32}},{"start":{"line":26,"column":36},"end":{"line":26,"column":53}},{"start":{"line":26,"column":57},"end":{"line":26,"column":81}}],"line":26},"5":{"loc":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},{"start":{"line":33,"column":2},"end":{"line":35,"column":3}}],"line":33}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":4,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":4,"14":3,"15":3,"16":1,"17":3,"18":3,"19":1,"20":1,"21":1,"22":1},"f":{"0":4,"1":4,"2":3,"3":3},"b":{"0":[0,4],"1":[4,4],"2":[1,0],"3":[1,0],"4":[4,4,3],"5":[3,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["basename","path","__filename","env","process","NODE_ENV","config","dbConfig","db","sequelize","use_env_variable","Sequelize","database","username","password","fs","readdirSync","__dirname","filter","file","indexOf","slice","forEach","model","join","name","Object","keys","modelName","associate"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAGC,cAAKD,QAAL,CAAcE,UAAd,CAAjB;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,aAApC;AAEA,MAAMC,MAAM,GAAGC,kBAASJ,GAAT,CAAf;AACA,MAAMK,EAAE,GAAG,EAAX;AAEA,MAAMC,SAAS,GAAGH,MAAM,CAACI,gBAAP,GACd,IAAIC,kBAAJ,CAAcP,OAAO,CAACD,GAAR,CAAYG,MAAM,CAACI,gBAAnB,CAAd,EAAoDJ,MAApD,CADc,GAEd,IAAIK,kBAAJ,CAAcL,MAAM,CAACM,QAArB,EAA+BN,MAAM,CAACO,QAAtC,EAAgDP,MAAM,CAACQ,QAAvD,EAAiER,MAAjE,CAFJ;;AAIAS,YAAGC,WAAH,CAAeC,SAAf,EACGC,MADH,CACUC,IAAI,IAAI;AACd,SACEA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAKnB,QAApC,IAAgDmB,IAAI,CAACE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KADrE;AAGD,CALH,EAMGC,OANH,CAMWH,IAAI,IAAI;AACf,QAAMI,KAAK,GAAGd,SAAS,CAAC,QAAD,CAAT,CAAoBR,cAAKuB,IAAL,CAAUP,SAAV,EAAqBE,IAArB,CAApB,CAAd;AACAX,EAAAA,EAAE,CAACe,KAAK,CAACE,IAAP,CAAF,GAAiBF,KAAjB;AACD,CATH;;AAWAG,MAAM,CAACC,IAAP,CAAYnB,EAAZ,EAAgBc,OAAhB,CAAwBM,SAAS,IAAI;AACnC,MAAIpB,EAAE,CAACoB,SAAD,CAAF,CAAcC,SAAlB,EAA6B;AAC3BrB,IAAAA,EAAE,CAACoB,SAAD,CAAF,CAAcC,SAAd,CAAwBrB,EAAxB;AACD;AACF,CAJD;AAMAA,EAAE,CAACC,SAAH,GAAeA,SAAf;AACAD,EAAE,CAACG,SAAH,GAAeA,kBAAf;eAEeH,E","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models","sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport Sequelize from 'sequelize';\nimport dbConfig from '../config/dbConfig';\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\n\nconst config = dbConfig[env];\nconst db = {};\n\nconst sequelize = config.use_env_variable\n  ? new Sequelize(process.env[config.use_env_variable], config)\n  : new Sequelize(config.database, config.username, config.password, config);\n\nfs.readdirSync(__dirname)\n  .filter(file => {\n    return (\n      file.indexOf('.') !== 0 && file !== basename && file.slice(-3) === '.js'\n    );\n  })\n  .forEach(file => {\n    const model = sequelize['import'](path.join(__dirname, file));\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\n\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\n\nexport default db;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cea766ea2cdec0e82f042a65e51a355cc043a394","contentHash":"08c50b51c3f3365ceb64cfaf207fe91b883234935f9d175b8d31e7ef25d44ba7"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/config/dbConfig.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/config/dbConfig.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":55}},"1":{"start":{"line":5,"column":39},"end":{"line":5,"column":93}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}},"3":{"start":{"line":9,"column":15},"end":{"line":34,"column":1}},"4":{"start":{"line":35,"column":0},"end":{"line":35,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":37},"end":{"line":5,"column":95}},"line":5}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":92}},"type":"cond-expr","locations":[{"start":{"line":5,"column":70},"end":{"line":5,"column":73}},{"start":{"line":5,"column":76},"end":{"line":5,"column":92}}],"line":5},"1":{"loc":{"start":{"line":5,"column":46},"end":{"line":5,"column":67}},"type":"binary-expr","locations":[{"start":{"line":5,"column":46},"end":{"line":5,"column":49}},{"start":{"line":5,"column":53},"end":{"line":5,"column":67}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["dbConfig.js"],"names":["dotenv","config","development","use_env_variable","username","process","env","DB_USER_DEV","password","database","DB_NAME_DEV","host","DB_HOST_DEV","dialect","test","DB_USER_TEST","DB_NAME_TEST","DB_HOST_TEST","production","DB_USER","DB_NAME","DB_HOST","module","exports"],"mappings":";;AAAA;;;;AAEAA,gBAAOC,MAAP;;AAEA,MAAMA,MAAM,GAAG;AACbC,EAAAA,WAAW,EAAE;AACXC,IAAAA,gBAAgB,EAAE,kBADP;AAEXC,IAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYC,WAFX;AAGXC,IAAAA,QAAQ,EAAE,IAHC;AAIXC,IAAAA,QAAQ,EAAEJ,OAAO,CAACC,GAAR,CAAYI,WAJX;AAKXC,IAAAA,IAAI,EAAEN,OAAO,CAACC,GAAR,CAAYM,WALP;AAMXC,IAAAA,OAAO,EAAE;AANE,GADA;AASbC,EAAAA,IAAI,EAAE;AACJX,IAAAA,gBAAgB,EAAE,mBADd;AAEJC,IAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYS,YAFlB;AAGJP,IAAAA,QAAQ,EAAE,IAHN;AAIJC,IAAAA,QAAQ,EAAEJ,OAAO,CAACC,GAAR,CAAYU,YAJlB;AAKJL,IAAAA,IAAI,EAAEN,OAAO,CAACC,GAAR,CAAYW,YALd;AAMJJ,IAAAA,OAAO,EAAE;AANL,GATO;AAiBbK,EAAAA,UAAU,EAAE;AACVf,IAAAA,gBAAgB,EAAE,cADR;AAGVC,IAAAA,QAAQ,EAAEC,OAAO,CAACC,GAAR,CAAYa,OAHZ;AAIVX,IAAAA,QAAQ,EAAE,IAJA;AAKVC,IAAAA,QAAQ,EAAEJ,OAAO,CAACC,GAAR,CAAYc,OALZ;AAMVT,IAAAA,IAAI,EAAEN,OAAO,CAACC,GAAR,CAAYe,OANR;AAOVR,IAAAA,OAAO,EAAE;AAPC;AAjBC,CAAf;AA4BAS,MAAM,CAACC,OAAP,GAAiBtB,MAAjB","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/config","sourcesContent":["import dotenv from 'dotenv';\n\ndotenv.config();\n\nconst config = {\n  development: {\n    use_env_variable: 'DATABASE_URL_DEV',\n    username: process.env.DB_USER_DEV,\n    password: null,\n    database: process.env.DB_NAME_DEV,\n    host: process.env.DB_HOST_DEV,\n    dialect: 'postgres'\n  },\n  test: {\n    use_env_variable: 'DATABASE_URL_TEST',\n    username: process.env.DB_USER_TEST,\n    password: null,\n    database: process.env.DB_NAME_TEST,\n    host: process.env.DB_HOST_TEST,\n    dialect: 'postgres'\n  },\n  production: {\n    use_env_variable: 'DATABASE_URL',\n\n    username: process.env.DB_USER,\n    password: null,\n    database: process.env.DB_NAME,\n    host: process.env.DB_HOST,\n    dialect: 'postgres'\n  }\n};\n\nmodule.exports = config;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0c103335e82408278be001cc4ab6ceb5e9717452","contentHash":"7a7fcf035ddfd72392af8d9a4db3d14566ea1687045c8edd386336d70e6f2b1e"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/product.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/product.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":52,"column":1}},"3":{"start":{"line":9,"column":18},"end":{"line":42,"column":8}},"4":{"start":{"line":44,"column":2},"end":{"line":49,"column":4}},"5":{"start":{"line":45,"column":4},"end":{"line":48,"column":7}},"6":{"start":{"line":51,"column":2},"end":{"line":51,"column":17}},"7":{"start":{"line":54,"column":0},"end":{"line":54,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":15},"end":{"line":8,"column":16}},"loc":{"start":{"line":8,"column":41},"end":{"line":52,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":44,"column":22},"end":{"line":44,"column":23}},"loc":{"start":{"line":44,"column":32},"end":{"line":49,"column":3}},"line":44}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["product.js"],"names":["sequelize","DataTypes","Product","define","id","allowNull","autoIncrement","primaryKey","type","INTEGER","category","STRING","name","shopId","referenceS","model","key","onUpdate","onDelete","createdAt","DATE","updatedAt","associate","models","belongsTo","Shop","foreignKey","as"],"mappings":";;;;;;;eAAe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,OAAO,GAAGF,SAAS,CAACG,MAAV,CACd,SADc,EAEd;AACEC,IAAAA,EAAE,EAAE;AACFC,MAAAA,SAAS,EAAE,KADT;AAEFC,MAAAA,aAAa,EAAE,IAFb;AAGFC,MAAAA,UAAU,EAAE,IAHV;AAIFC,MAAAA,IAAI,EAAEP,SAAS,CAACQ;AAJd,KADN;AAOEC,IAAAA,QAAQ,EAAE;AACRF,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADR;AAERN,MAAAA,SAAS,EAAE;AAFH,KAPZ;AAWEO,IAAAA,IAAI,EAAE;AACJJ,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADZ;AAEJN,MAAAA,SAAS,EAAE;AAFP,KAXR;AAeEQ,IAAAA,MAAM,EAAE;AACNL,MAAAA,IAAI,EAAEP,SAAS,CAACQ,OADV;AAENJ,MAAAA,SAAS,EAAE,KAFL;AAGNS,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAE,OADG;AAEVC,QAAAA,GAAG,EAAE;AAFK,OAHN;AAONC,MAAAA,QAAQ,EAAE,SAPJ;AAQNC,MAAAA,QAAQ,EAAE;AARJ,KAfV;AAyBEC,IAAAA,SAAS,EAAE;AACTd,MAAAA,SAAS,EAAE,KADF;AAETG,MAAAA,IAAI,EAAEP,SAAS,CAACmB;AAFP,KAzBb;AA6BEC,IAAAA,SAAS,EAAE;AACThB,MAAAA,SAAS,EAAE,KADF;AAETG,MAAAA,IAAI,EAAEP,SAAS,CAACmB;AAFP;AA7Bb,GAFc,EAoCd,EApCc,CAAhB;;AAsCAlB,EAAAA,OAAO,CAACoB,SAAR,GAAoBC,MAAM,IAAI;AAC5BrB,IAAAA,OAAO,CAACsB,SAAR,CAAkBD,MAAM,CAACE,IAAzB,EAA+B;AAAEC,MAAAA,UAAU,EAAE,QAAd;AAAwBC,MAAAA,EAAE,EAAE;AAA5B,KAA/B;AACD,GAFD;;AAGA,SAAOzB,OAAP;AACD,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models","sourcesContent":["export default (sequelize, DataTypes) => {\n  const Product = sequelize.define(\n    'Product',\n    {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER\n      },\n      category: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      shopId: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        referenceS: {\n          model: 'Shops',\n          key: 'id'\n        },\n        onUpdate: 'CASCADE',\n        onDelete: 'CASCADE'\n      },\n      createdAt: {\n        allowNull: false,\n        type: DataTypes.DATE\n      },\n      updatedAt: {\n        allowNull: false,\n        type: DataTypes.DATE\n      }\n    },\n    {}\n  );\n  Product.associate = models => {\n    Product.belongsTo(models.Shop, { foreignKey: 'shopId', as: 'shop' });\n  };\n  return Product;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"15e6da655c6eb1dfad948541eed4ac5ad9b32bac","contentHash":"2d33bc07e7119c42fe5643970ca87efc596d351d76912fdfccc2604b9ff6c523"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/shop.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/shop.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":63,"column":1}},"3":{"start":{"line":9,"column":15},"end":{"line":48,"column":8}},"4":{"start":{"line":50,"column":2},"end":{"line":60,"column":4}},"5":{"start":{"line":51,"column":4},"end":{"line":54,"column":7}},"6":{"start":{"line":55,"column":4},"end":{"line":59,"column":7}},"7":{"start":{"line":62,"column":2},"end":{"line":62,"column":14}},"8":{"start":{"line":65,"column":0},"end":{"line":65,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":15},"end":{"line":8,"column":16}},"loc":{"start":{"line":8,"column":41},"end":{"line":63,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":50,"column":19},"end":{"line":50,"column":20}},"loc":{"start":{"line":50,"column":29},"end":{"line":60,"column":3}},"line":50}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["shop.js"],"names":["sequelize","DataTypes","Shop","define","id","allowNull","autoIncrement","primaryKey","type","INTEGER","shopName","STRING","unique","owner","referenceS","model","key","onUpdate","onDelete","address","createdAt","DATE","updatedAt","associate","models","belongsTo","User","foreignKey","as","hasMany","Product"],"mappings":";;;;;;;eAAe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,IAAI,GAAGF,SAAS,CAACG,MAAV,CACX,MADW,EAEX;AACEC,IAAAA,EAAE,EAAE;AACFC,MAAAA,SAAS,EAAE,KADT;AAEFC,MAAAA,aAAa,EAAE,IAFb;AAGFC,MAAAA,UAAU,EAAE,IAHV;AAIFC,MAAAA,IAAI,EAAEP,SAAS,CAACQ;AAJd,KADN;AAQEC,IAAAA,QAAQ,EAAE;AACRF,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADR;AAERN,MAAAA,SAAS,EAAE,KAFH;AAGRO,MAAAA,MAAM,EAAE;AAHA,KARZ;AAaEC,IAAAA,KAAK,EAAE;AACLL,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADX;AAELN,MAAAA,SAAS,EAAE,KAFN;AAGLS,MAAAA,UAAU,EAAE;AACVC,QAAAA,KAAK,EAAE,OADG;AAEVC,QAAAA,GAAG,EAAE;AAFK,OAHP;AAOLC,MAAAA,QAAQ,EAAE,SAPL;AAQLC,MAAAA,QAAQ,EAAE;AARL,KAbT;AAuBER,IAAAA,QAAQ,EAAE;AACRF,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADR;AAERN,MAAAA,SAAS,EAAE,KAFH;AAGRO,MAAAA,MAAM,EAAE;AAHA,KAvBZ;AA4BEO,IAAAA,OAAO,EAAE;AACPX,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADT;AAEPN,MAAAA,SAAS,EAAE;AAFJ,KA5BX;AAgCEe,IAAAA,SAAS,EAAE;AACTf,MAAAA,SAAS,EAAE,KADF;AAETG,MAAAA,IAAI,EAAEP,SAAS,CAACoB;AAFP,KAhCb;AAoCEC,IAAAA,SAAS,EAAE;AACTjB,MAAAA,SAAS,EAAE,KADF;AAETG,MAAAA,IAAI,EAAEP,SAAS,CAACoB;AAFP;AApCb,GAFW,EA2CX,EA3CW,CAAb;;AA6CAnB,EAAAA,IAAI,CAACqB,SAAL,GAAiBC,MAAM,IAAI;AACzBtB,IAAAA,IAAI,CAACuB,SAAL,CAAeD,MAAM,CAACE,IAAtB,EAA4B;AAAEC,MAAAA,UAAU,EAAE,OAAd;AAAuBC,MAAAA,EAAE,EAAE;AAA3B,KAA5B;AACA1B,IAAAA,IAAI,CAAC2B,OAAL,CAAaL,MAAM,CAACM,OAApB,EAA6B;AAC3BH,MAAAA,UAAU,EAAE,UADe;AAE3BV,MAAAA,QAAQ,EAAE,SAFiB;AAG3BC,MAAAA,QAAQ,EAAE;AAHiB,KAA7B;AAKD,GAPD;;AAQA,SAAOhB,IAAP;AACD,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models","sourcesContent":["export default (sequelize, DataTypes) => {\n  const Shop = sequelize.define(\n    'Shop',\n    {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER\n      },\n\n      shopName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true\n      },\n      owner: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        referenceS: {\n          model: 'Users',\n          key: 'username'\n        },\n        onUpdate: 'CASCADE',\n        onDelete: 'CASCADE'\n      },\n      shopName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true\n      },\n      address: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      createdAt: {\n        allowNull: false,\n        type: DataTypes.DATE\n      },\n      updatedAt: {\n        allowNull: false,\n        type: DataTypes.DATE\n      }\n    },\n    {}\n  );\n  Shop.associate = models => {\n    Shop.belongsTo(models.User, { foreignKey: 'owner', as: 'shopOwner' });\n    Shop.hasMany(models.Product, {\n      foreignKey: 'shopName',\n      onUpdate: 'CASCADE',\n      onDelete: 'CASCADE'\n    });\n  };\n  return Shop;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa8cee32a838e5fc55f6945faafbcc1c9b411dce","contentHash":"b59e46a91508283dc237b7a018ffb8d75ae8cd9b26f37adcb0ed1e97b51b23cb"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/user.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models/user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":66,"column":1}},"3":{"start":{"line":9,"column":15},"end":{"line":55,"column":8}},"4":{"start":{"line":57,"column":2},"end":{"line":63,"column":4}},"5":{"start":{"line":58,"column":4},"end":{"line":62,"column":7}},"6":{"start":{"line":65,"column":2},"end":{"line":65,"column":14}},"7":{"start":{"line":68,"column":0},"end":{"line":68,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":15},"end":{"line":8,"column":16}},"loc":{"start":{"line":8,"column":41},"end":{"line":66,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":57,"column":19},"end":{"line":57,"column":20}},"loc":{"start":{"line":57,"column":29},"end":{"line":63,"column":3}},"line":57}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["sequelize","DataTypes","User","define","id","allowNull","autoIncrement","primaryKey","type","INTEGER","firstName","STRING","lastName","username","unique","phone","password","createdAt","DATE","updatedAt","verificationCode","isVerified","BOOLEAN","defaultValue","associate","models","hasMany","Shop","foreignKey","onUpdate","onDelete"],"mappings":";;;;;;;eAAe,CAACA,SAAD,EAAYC,SAAZ,KAA0B;AACvC,QAAMC,IAAI,GAAGF,SAAS,CAACG,MAAV,CACX,MADW,EAEX;AACEC,IAAAA,EAAE,EAAE;AACFC,MAAAA,SAAS,EAAE,KADT;AAEFC,MAAAA,aAAa,EAAE,IAFb;AAGFC,MAAAA,UAAU,EAAE,IAHV;AAIFC,MAAAA,IAAI,EAAEP,SAAS,CAACQ;AAJd,KADN;AAOEC,IAAAA,SAAS,EAAE;AACTF,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADP;AAETN,MAAAA,SAAS,EAAE;AAFF,KAPb;AAWEO,IAAAA,QAAQ,EAAE;AACRJ,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADR;AAERN,MAAAA,SAAS,EAAE;AAFH,KAXZ;AAeEQ,IAAAA,QAAQ,EAAE;AACRL,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADR;AAERN,MAAAA,SAAS,EAAE,IAFH;AAGRS,MAAAA,MAAM,EAAE;AAHA,KAfZ;AAoBEC,IAAAA,KAAK,EAAE;AACLP,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADX;AAELN,MAAAA,SAAS,EAAE,KAFN;AAGLS,MAAAA,MAAM,EAAE;AAHH,KApBT;AAyBEE,IAAAA,QAAQ,EAAE;AACRR,MAAAA,IAAI,EAAEP,SAAS,CAACU,MADR;AAERN,MAAAA,SAAS,EAAE;AAFH,KAzBZ;AA8BEY,IAAAA,SAAS,EAAE;AACTZ,MAAAA,SAAS,EAAE,KADF;AAETG,MAAAA,IAAI,EAAEP,SAAS,CAACiB;AAFP,KA9Bb;AAkCEC,IAAAA,SAAS,EAAE;AACTd,MAAAA,SAAS,EAAE,KADF;AAETG,MAAAA,IAAI,EAAEP,SAAS,CAACiB;AAFP,KAlCb;AAsCEE,IAAAA,gBAAgB,EAAE;AAChBZ,MAAAA,IAAI,EAAEP,SAAS,CAACQ,OADA;AAEhBJ,MAAAA,SAAS,EAAE;AAFK,KAtCpB;AA0CEgB,IAAAA,UAAU,EAAE;AACVb,MAAAA,IAAI,EAAEP,SAAS,CAACqB,OADN;AAEVjB,MAAAA,SAAS,EAAE,KAFD;AAGVkB,MAAAA,YAAY,EAAE;AAHJ;AA1Cd,GAFW,EAkDX,EAlDW,CAAb;;AAoDArB,EAAAA,IAAI,CAACsB,SAAL,GAAiBC,MAAM,IAAI;AACzBvB,IAAAA,IAAI,CAACwB,OAAL,CAAaD,MAAM,CAACE,IAApB,EAA0B;AACxBC,MAAAA,UAAU,EAAE,OADY;AAExBC,MAAAA,QAAQ,EAAE,SAFc;AAGxBC,MAAAA,QAAQ,EAAE;AAHc,KAA1B;AAKD,GAND;;AAOA,SAAO5B,IAAP;AACD,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/models","sourcesContent":["export default (sequelize, DataTypes) => {\n  const User = sequelize.define(\n    'User',\n    {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER\n      },\n      firstName: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      lastName: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      username: {\n        type: DataTypes.STRING,\n        allowNull: true,\n        unique: true\n      },\n      phone: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true\n      },\n      password: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n\n      createdAt: {\n        allowNull: false,\n        type: DataTypes.DATE\n      },\n      updatedAt: {\n        allowNull: false,\n        type: DataTypes.DATE\n      },\n      verificationCode: {\n        type: DataTypes.INTEGER,\n        allowNull: true\n      },\n      isVerified: {\n        type: DataTypes.BOOLEAN,\n        allowNull: false,\n        defaultValue: false\n      }\n    },\n    {}\n  );\n  User.associate = models => {\n    User.hasMany(models.Shop, {\n      foreignKey: 'owner',\n      onUpdate: 'CASCADE',\n      onDelete: 'CASCADE'\n    });\n  };\n  return User;\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5b57509bacc42af140c25dd09532c91152254c1d","contentHash":"2355abe633ec1830e5f279aa9fde3fd0984a0235a1dd7a3b91f719c4582c13fe"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users/findUser.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users/findUser.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":15},"end":{"line":23,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":22,"column":3}},"6":{"start":{"line":14,"column":4},"end":{"line":17,"column":7}},"7":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"8":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":28},"end":{"line":23,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1},"f":{"0":1,"1":1},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["findUser.js"],"names":["condition","db","User","findOne","where","logging","error"],"mappings":";;;;;;;AAAA;;;;eAEeA,SAAS,IAAI;AAC1B,MAAI;AACF,WAAOC,gBAAGC,IAAH,CAAQC,OAAR,CAAgB;AAAEC,MAAAA,KAAK,EAAEJ,SAAT;AAAoBK,MAAAA,OAAO,EAAE;AAA7B,KAAhB,CAAP;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc;AACd,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACD;AACF,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users","sourcesContent":["import db from '../../models';\n\nexport default condition => {\n  try {\n    return db.User.findOne({ where: condition, logging: false });\n  } catch (error) {\n    return { error };\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9ab1f1ac41951b0039df25ce103a9849ffda3873","contentHash":"44eab7ad29a1f5fc9ee6e4b3af8ba6d5d353aff88237fab9d45f3a9ff4e013cf"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users/updateUser.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users/updateUser.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":15},"end":{"line":24,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":23,"column":3}},"6":{"start":{"line":14,"column":17},"end":{"line":17,"column":6}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":16}},"8":{"start":{"line":20,"column":4},"end":{"line":22,"column":6}},"9":{"start":{"line":26,"column":0},"end":{"line":26,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":49},"end":{"line":24,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":12,"column":30},"end":{"line":12,"column":44}},"type":"default-arg","locations":[{"start":{"line":12,"column":42},"end":{"line":12,"column":44}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1],"2":[0]},"inputSourceMap":{"version":3,"sources":["updateUser.js"],"names":["target","condition","user","db","User","update","where","logging","error"],"mappings":";;;;;;;AAAA;;;;eAEe,OAAOA,MAAP,EAAeC,SAAS,GAAG,EAA3B,KAAkC;AAC/C,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMC,gBAAGC,IAAH,CAAQC,MAAR,CAAeL,MAAf,EAAuB;AACxCM,MAAAA,KAAK,EAAEL,SADiC;AAExCM,MAAAA,OAAO,EAAE;AAF+B,KAAvB,CAAnB;AAIA,WAAOL,IAAP;AACD,GAND,CAME,OAAOM,KAAP,EAAc;AACd,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACD;AACF,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/users","sourcesContent":["import db from '../../models';\n\nexport default async (target, condition = {}) => {\n  try {\n    const user = await db.User.update(target, {\n      where: condition,\n      logging: false\n    });\n    return user;\n  } catch (error) {\n    return { error };\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a5ddad3cc7511f79ba7985305962444c460a58de","contentHash":"42fefdad1b1241724f8b16f8a5af988aef4db8d8df97569ce075df1ca112f1b5"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/createShop.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/createShop.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":19},"end":{"line":20,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":19,"column":3}},"6":{"start":{"line":14,"column":4},"end":{"line":16,"column":7}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":17}},"8":{"start":{"line":22,"column":15},"end":{"line":22,"column":25}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":19},"end":{"line":12,"column":20}},"loc":{"start":{"line":12,"column":33},"end":{"line":20,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["createShop.js"],"names":["createShop","data","db","Shop","create","logging","error"],"mappings":";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,MAAMC,IAAN,IAAc;AAC/B,MAAI;AACF,WAAO,MAAMC,gBAAGC,IAAH,CAAQC,MAAR,CAAeH,IAAf,EAAqB;AAAEI,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAb;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CAND;;eAQeN,U","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops","sourcesContent":["import db from '../../models';\n\nconst createShop = async data => {\n  try {\n    return await db.Shop.create(data, { logging: false });\n  } catch (error) {\n    return error;\n  }\n};\n\nexport default createShop;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b9e683250b3edd6f4fbd9b3d9952b97219f957c4","contentHash":"76439a29a13e082cc9bf40fcdd7c7351eb68dcc7f030f59bacb510ef2e1d5cbc"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/findShop.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/findShop.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":15},"end":{"line":23,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":22,"column":3}},"6":{"start":{"line":14,"column":4},"end":{"line":17,"column":7}},"7":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"8":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":28},"end":{"line":23,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["findShop.js"],"names":["condition","db","Shop","findOne","where","logging","error"],"mappings":";;;;;;;AAAA;;;;eAEeA,SAAS,IAAI;AAC1B,MAAI;AACF,WAAOC,gBAAGC,IAAH,CAAQC,OAAR,CAAgB;AAAEC,MAAAA,KAAK,EAAEJ,SAAT;AAAoBK,MAAAA,OAAO,EAAE;AAA7B,KAAhB,CAAP;AACD,GAFD,CAEE,OAAOC,KAAP,EAAc;AACd,WAAO;AAAEA,MAAAA;AAAF,KAAP;AACD;AACF,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops","sourcesContent":["import db from '../../models';\n\nexport default condition => {\n  try {\n    return db.Shop.findOne({ where: condition, logging: false });\n  } catch (error) {\n    return { error };\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1d1b36bcf35e8a0861e5c2df0d42af31a7baf9d4","contentHash":"ba220a42ebea0d70fd9724b28f294059c7a5b4b26410fba4a41f1b8ec2b8fe8c"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/deleteShop.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/deleteShop.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":15},"end":{"line":23,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":22,"column":3}},"6":{"start":{"line":14,"column":4},"end":{"line":17,"column":7}},"7":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"8":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":29},"end":{"line":23,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["deleteShop.js"],"names":["data","db","Shop","destroy","where","logging","err","errors"],"mappings":";;;;;;;AAAA;;;;eAEe,MAAMA,IAAN,IAAc;AAC3B,MAAI;AACF,WAAOC,gBAAGC,IAAH,CAAQC,OAAR,CAAgB;AAAEC,MAAAA,KAAK,EAAEJ,IAAT;AAAeK,MAAAA,OAAO,EAAE;AAAxB,KAAhB,CAAP;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,WAAO;AAAEC,MAAAA,MAAM,EAAED;AAAV,KAAP;AACD;AACF,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops","sourcesContent":["import db from '../../models';\n\nexport default async data => {\n  try {\n    return db.Shop.destroy({ where: data, logging: false });\n  } catch (err) {\n    return { errors: err };\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cab1092c6dd81d1f2977c229ea8083d38cc6d220","contentHash":"32a65912e5c5aecd4abad4856b9821d8831a9b979de8ea31326a3a78ae3192ae"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/findAllShops.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops/findAllShops.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":14},"end":{"line":8,"column":61}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":15},"end":{"line":22,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":21,"column":3}},"6":{"start":{"line":14,"column":4},"end":{"line":16,"column":7}},"7":{"start":{"line":18,"column":4},"end":{"line":20,"column":6}},"8":{"start":{"line":24,"column":0},"end":{"line":24,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":29},"end":{"line":22,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["findAllShops.js"],"names":["data","db","Shop","findAll","where","err","errors"],"mappings":";;;;;;;AAAA;;;;eAEe,MAAMA,IAAN,IAAc;AAC3B,MAAI;AACF,WAAO,MAAMC,gBAAGC,IAAH,CAAQC,OAAR,CAAgB;AAAEC,MAAAA,KAAK,EAAEJ;AAAT,KAAhB,CAAb;AACD,GAFD,CAEE,OAAOK,GAAP,EAAY;AACZ,WAAO;AAAEC,MAAAA,MAAM,EAAED;AAAV,KAAP;AACD;AACF,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/queries/shops","sourcesContent":["import db from '../../models';\n\nexport default async data => {\n  try {\n    return await db.Shop.findAll({ where: data });\n  } catch (err) {\n    return { errors: err };\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ee74d039c35e0b23a692720f6d2f79bb7367bb7","contentHash":"e15f0b1e7013ce9dbf102df389d964344958fbcb16a304a3eac0181ae53a63d2"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/index.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":11,"column":3}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":30}},"3":{"start":{"line":12,"column":0},"end":{"line":17,"column":3}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":38}},"5":{"start":{"line":18,"column":0},"end":{"line":23,"column":3}},"6":{"start":{"line":21,"column":4},"end":{"line":21,"column":37}},"7":{"start":{"line":24,"column":0},"end":{"line":29,"column":3}},"8":{"start":{"line":27,"column":4},"end":{"line":27,"column":35}},"9":{"start":{"line":30,"column":0},"end":{"line":35,"column":3}},"10":{"start":{"line":33,"column":4},"end":{"line":33,"column":30}},"11":{"start":{"line":36,"column":0},"end":{"line":41,"column":3}},"12":{"start":{"line":39,"column":4},"end":{"line":39,"column":30}},"13":{"start":{"line":42,"column":0},"end":{"line":47,"column":3}},"14":{"start":{"line":45,"column":4},"end":{"line":45,"column":37}},"15":{"start":{"line":48,"column":0},"end":{"line":53,"column":3}},"16":{"start":{"line":51,"column":4},"end":{"line":51,"column":36}},"17":{"start":{"line":55,"column":20},"end":{"line":55,"column":45}},"18":{"start":{"line":57,"column":16},"end":{"line":57,"column":37}},"19":{"start":{"line":59,"column":13},"end":{"line":59,"column":31}},"20":{"start":{"line":61,"column":24},"end":{"line":61,"column":77}},"21":{"start":{"line":63,"column":23},"end":{"line":63,"column":86}},"22":{"start":{"line":65,"column":39},"end":{"line":65,"column":93}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":7},"end":{"line":8,"column":8}},"loc":{"start":{"line":8,"column":19},"end":{"line":10,"column":3}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":7},"end":{"line":14,"column":8}},"loc":{"start":{"line":14,"column":19},"end":{"line":16,"column":3}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":7},"end":{"line":20,"column":8}},"loc":{"start":{"line":20,"column":19},"end":{"line":22,"column":3}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":26,"column":7},"end":{"line":26,"column":8}},"loc":{"start":{"line":26,"column":19},"end":{"line":28,"column":3}},"line":26},"4":{"name":"(anonymous_4)","decl":{"start":{"line":32,"column":7},"end":{"line":32,"column":8}},"loc":{"start":{"line":32,"column":19},"end":{"line":34,"column":3}},"line":32},"5":{"name":"(anonymous_5)","decl":{"start":{"line":38,"column":7},"end":{"line":38,"column":8}},"loc":{"start":{"line":38,"column":19},"end":{"line":40,"column":3}},"line":38},"6":{"name":"(anonymous_6)","decl":{"start":{"line":44,"column":7},"end":{"line":44,"column":8}},"loc":{"start":{"line":44,"column":19},"end":{"line":46,"column":3}},"line":44},"7":{"name":"(anonymous_7)","decl":{"start":{"line":50,"column":7},"end":{"line":50,"column":8}},"loc":{"start":{"line":50,"column":19},"end":{"line":52,"column":3}},"line":50},"8":{"name":"_interopRequireDefault","decl":{"start":{"line":65,"column":9},"end":{"line":65,"column":31}},"loc":{"start":{"line":65,"column":37},"end":{"line":65,"column":95}},"line":65}},"branchMap":{"0":{"loc":{"start":{"line":65,"column":46},"end":{"line":65,"column":92}},"type":"cond-expr","locations":[{"start":{"line":65,"column":70},"end":{"line":65,"column":73}},{"start":{"line":65,"column":76},"end":{"line":65,"column":92}}],"line":65},"1":{"loc":{"start":{"line":65,"column":46},"end":{"line":65,"column":67}},"type":"binary-expr","locations":[{"start":{"line":65,"column":46},"end":{"line":65,"column":49}},{"start":{"line":65,"column":53},"end":{"line":65,"column":67}}],"line":65}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":1,"8":0,"9":1,"10":0,"11":1,"12":0,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":2},"f":{"0":1,"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":2},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers","sourcesContent":["import { hash, verifyHashed } from './passwordHash';\nimport { successResponse, errorResponse } from './response';\nimport { createToken, decodeToken } from './token';\nimport sendVerification from './sendVerification';\nimport inputValidation from './validation/inputValidation';\n\nexport {\n  hash,\n  verifyHashed,\n  successResponse,\n  errorResponse,\n  inputValidation,\n  sendVerification,\n  createToken,\n  decodeToken\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4c8e8a73740dd5232b26c15bc94f992de4dda1d9","contentHash":"60fd551fd81a7fba7fc3eb03d874639b55d3e3d9fc8bd4d8e20522997b4bf3c3"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/passwordHash.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/passwordHash.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":68}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":13},"end":{"line":14,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":13,"column":50}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":20}},"7":{"start":{"line":18,"column":21},"end":{"line":20,"column":1}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":63}},"9":{"start":{"line":22,"column":0},"end":{"line":22,"column":36}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":13},"end":{"line":12,"column":14}},"loc":{"start":{"line":12,"column":25},"end":{"line":14,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":21},"end":{"line":18,"column":22}},"loc":{"start":{"line":18,"column":50},"end":{"line":20,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1},"f":{"0":1,"1":1,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["passwordHash.js"],"names":["hash","password","passwordHash","generate","verifyHashed","savedPassword","verify"],"mappings":";;;;;;;AAAA;;;;AAEO,MAAMA,IAAI,GAAGC,QAAQ,IAAI;AAC9B,SAAOC,sBAAaC,QAAb,CAAsBF,QAAtB,CAAP;AACD,CAFM;;;;AAIA,MAAMG,YAAY,GAAG,CAACH,QAAD,EAAWI,aAAX,KAA6B;AAEvD,SAAOH,sBAAaI,MAAb,CAAoBL,QAApB,EAA8BI,aAA9B,CAAP;AACD,CAHM","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers","sourcesContent":["import passwordHash from 'password-hash';\n\nexport const hash = password => {\n  return passwordHash.generate(password);\n};\n\nexport const verifyHashed = (password, savedPassword) => {\n  \n  return passwordHash.verify(password, savedPassword);\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"30e44aaccb9bef9dd19e430d5ce69b0fa7c05f50","contentHash":"d2dde78e5751f6adabacb937ba27ef04e7ae7c45e51b5f755157963fdebfb0d6"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/response.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/response.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":57}},"2":{"start":{"line":8,"column":24},"end":{"line":14,"column":1}},"3":{"start":{"line":9,"column":2},"end":{"line":13,"column":5}},"4":{"start":{"line":16,"column":0},"end":{"line":16,"column":42}},"5":{"start":{"line":18,"column":22},"end":{"line":24,"column":1}},"6":{"start":{"line":19,"column":2},"end":{"line":23,"column":5}},"7":{"start":{"line":26,"column":0},"end":{"line":26,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":24},"end":{"line":8,"column":25}},"loc":{"start":{"line":8,"column":56},"end":{"line":14,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":22},"end":{"line":18,"column":23}},"loc":{"start":{"line":18,"column":55},"end":{"line":24,"column":1}},"line":18}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1},"f":{"0":1,"1":0},"b":{},"inputSourceMap":{"version":3,"sources":["response.js"],"names":["successResponse","res","status","message","data","json","errorResponse","error"],"mappings":";;;;;;;AAAO,MAAMA,eAAe,GAAG,CAACC,GAAD,EAAMC,MAAN,EAAcC,OAAd,EAAuBC,IAAvB,KAAgC;AAC7D,SAAOH,GAAG,CAACC,MAAJ,CAAWA,MAAX,EAAmBG,IAAnB,CAAwB;AAC7BH,IAAAA,MAD6B;AAE7BC,IAAAA,OAF6B;AAG7BC,IAAAA;AAH6B,GAAxB,CAAP;AAKD,CANM;;;;AAQA,MAAME,aAAa,GAAG,CAACL,GAAD,EAAMC,MAAN,EAAcC,OAAd,EAAuBI,KAAvB,KAAiC;AAC5D,SAAON,GAAG,CAACC,MAAJ,CAAWA,MAAX,EAAmBG,IAAnB,CAAwB;AAC7BH,IAAAA,MAD6B;AAE7BC,IAAAA,OAF6B;AAG7BI,IAAAA;AAH6B,GAAxB,CAAP;AAKD,CANM","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers","sourcesContent":["export const successResponse = (res, status, message, data) => {\n  return res.status(status).json({\n    status,\n    message,\n    data\n  });\n};\n\nexport const errorResponse = (res, status, message, error) => {\n  return res.status(status).json({\n    status,\n    message,\n    error\n  });\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"75e5800ce0252318963c118d01dcbc635d84fa5e","contentHash":"e09d3ef5ff2aa8e8301f54ed48f15a595b6f157ed1b733310436d88ab1506e59"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/token.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/token.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"2":{"start":{"line":8,"column":20},"end":{"line":8,"column":67}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":20},"end":{"line":21,"column":1}},"6":{"start":{"line":15,"column":20},"end":{"line":15,"column":48}},"7":{"start":{"line":16,"column":16},"end":{"line":19,"column":15}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":15}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}},"10":{"start":{"line":25,"column":20},"end":{"line":35,"column":1}},"11":{"start":{"line":26,"column":2},"end":{"line":34,"column":3}},"12":{"start":{"line":27,"column":22},"end":{"line":27,"column":50}},"13":{"start":{"line":28,"column":20},"end":{"line":28,"column":72}},"14":{"start":{"line":29,"column":4},"end":{"line":29,"column":19}},"15":{"start":{"line":31,"column":4},"end":{"line":33,"column":6}},"16":{"start":{"line":37,"column":0},"end":{"line":37,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":20},"end":{"line":14,"column":21}},"loc":{"start":{"line":14,"column":47},"end":{"line":21,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":20},"end":{"line":25,"column":21}},"loc":{"start":{"line":25,"column":35},"end":{"line":35,"column":1}},"line":25}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["token.js"],"names":["createToken","phone","password","secretKey","process","env","TOKEN_SECRET_KEY","token","jwt","sign","decodeToken","decoded","verify","err","errors"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEO,MAAMA,WAAW,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AACpD,QAAMC,SAAS,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAA9B;AACA,QAAMC,KAAK,GAAG,MAAMC,sBAAIC,IAAJ,CAAS;AAAER,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAT,EAA8BC,SAA9B,CAApB;AACA,SAAOI,KAAP;AACD,CAJM;;;;AAMA,MAAMG,WAAW,GAAG,MAAMH,KAAN,IAAe;AACxC,MAAI;AACF,UAAMJ,SAAS,GAAGC,OAAO,CAACC,GAAR,CAAYC,gBAA9B;AACA,UAAMK,OAAO,GAAG,MAAMH,sBAAII,MAAJ,CAAWL,KAAX,EAAkBJ,SAAlB,CAAtB;AACA,WAAOQ,OAAP;AACD,GAJD,CAIE,OAAOE,GAAP,EAAY;AACZ,WAAO;AAAEC,MAAAA,MAAM,EAAED;AAAV,KAAP;AACD;AACF,CARM","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers","sourcesContent":["import jwt from 'jsonwebtoken';\nimport 'dotenv/config';\n\nexport const createToken = async (phone, password) => {\n  const secretKey = process.env.TOKEN_SECRET_KEY;\n  const token = await jwt.sign({ phone, password }, secretKey);\n  return token;\n};\n\nexport const decodeToken = async token => {\n  try {\n    const secretKey = process.env.TOKEN_SECRET_KEY;\n    const decoded = await jwt.verify(token, secretKey);\n    return decoded;\n  } catch (err) {\n    return { errors: err };\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9e5f40d14a9154be5020ab41a4283185f589c102","contentHash":"38bfea1b056143825b3d6c4b598fae869078bef9769d29552e61337d61d321e7"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/sendVerification.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/sendVerification.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":53}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":36}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":15},"end":{"line":34,"column":1}},"6":{"start":{"line":15,"column":16},"end":{"line":18,"column":4}},"7":{"start":{"line":19,"column":15},"end":{"line":19,"column":47}},"8":{"start":{"line":20,"column":2},"end":{"line":33,"column":5}},"9":{"start":{"line":23,"column":4},"end":{"line":32,"column":5}},"10":{"start":{"line":24,"column":6},"end":{"line":24,"column":17}},"11":{"start":{"line":26,"column":6},"end":{"line":31,"column":7}},"12":{"start":{"line":27,"column":21},"end":{"line":27,"column":70}},"13":{"start":{"line":28,"column":8},"end":{"line":28,"column":28}},"14":{"start":{"line":30,"column":8},"end":{"line":30,"column":43}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":15},"end":{"line":14,"column":16}},"loc":{"start":{"line":14,"column":36},"end":{"line":34,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":5},"end":{"line":22,"column":6}},"loc":{"start":{"line":22,"column":34},"end":{"line":33,"column":3}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":23,"column":4},"end":{"line":32,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":32,"column":5}},{"start":{"line":23,"column":4},"end":{"line":32,"column":5}}],"line":23},"3":{"loc":{"start":{"line":26,"column":6},"end":{"line":31,"column":7}},"type":"if","locations":[{"start":{"line":26,"column":6},"end":{"line":31,"column":7}},{"start":{"line":26,"column":6},"end":{"line":31,"column":7}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"sources":["sendVerification.js"],"names":["phoneNumber","nexmo","Nexmo","apiKey","apiSecret","text","Math","ceil","random","message","sendSms","type","err","responseData","messages","here"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,MAAMA,WAAN,IAAqB;AAClC,QAAMC,KAAK,GAAG,IAAIC,cAAJ,CAAU;AACtBC,IAAAA,MAAM,EAAE,UADc;AAEtBC,IAAAA,SAAS,EAAE;AAFW,GAAV,CAAd;AAIA,QAAMC,IAAI,GAAGC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,MAAL,KAAgB,KAA1B,CAAb;AACAP,EAAAA,KAAK,CAACQ,OAAN,CAAcC,OAAd,CACE,OADF,EAEEV,WAFF,EAGEK,IAHF,EAIE;AACEM,IAAAA,IAAI,EAAE;AADR,GAJF,EAOE,OAAOC,GAAP,EAAYC,YAAZ,KAA6B;AAC3B,QAAID,GAAJ,EAAS;AACP,aAAOA,GAAP;AACD,KAFD,MAEO;AACL,UAAIC,YAAY,CAACC,QAAb,CAAsB,CAAtB,EAAyB,QAAzB,MAAuC,GAA3C,EAAgD;AAC9C,cAAMC,IAAI,GAAG,MAAM,yBAAWV,IAAX,EAAiBL,WAAjB,CAAnB;AACA,eAAOa,YAAP;AACD,OAHD,MAGO;AACL,eAAO,2BAAP;AACD;AACF;AACF,GAlBH;AAoBD,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers","sourcesContent":["import Nexmo from 'nexmo';\nimport { updateUser } from '../queries';\n\nexport default async phoneNumber => {\n  const nexmo = new Nexmo({\n    apiKey: '694a8c0f',\n    apiSecret: 'S4KL6cFvYQAXcdk4'\n  });\n  const text = Math.ceil(Math.random() * 10000);\n  nexmo.message.sendSms(\n    'Nexmo',\n    phoneNumber,\n    text,\n    {\n      type: 'unicode'\n    },\n    async (err, responseData) => {\n      if (err) {\n        return err;\n      } else {\n        if (responseData.messages[0]['status'] === '0') {\n          const here = await updateUser(text, phoneNumber);\n          return responseData;\n        } else {\n          return 'Oops something went wrong';\n        }\n      }\n    }\n  );\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4d8513a9c81df847a906746b118178ec66cbfdb3","contentHash":"59db3d225485be92bf4c3c5280ebe5a1fe395689ba0d6a2c112c9837e86f5d5d"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/validation/inputValidation.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/validation/inputValidation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":55}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":12,"column":15},"end":{"line":22,"column":1}},"5":{"start":{"line":13,"column":17},"end":{"line":19,"column":4}},"6":{"start":{"line":21,"column":2},"end":{"line":21,"column":32}},"7":{"start":{"line":24,"column":0},"end":{"line":24,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":15},"end":{"line":12,"column":16}},"loc":{"start":{"line":12,"column":24},"end":{"line":22,"column":1}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["inputValidation.js"],"names":["input","schema","Joi","object","firstName","string","min","max","required","lastName","username","phone","trim","regex","password","pattern","validate"],"mappings":";;;;;;;AAAA;;;;eAEeA,KAAK,IAAI;AACtB,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACxBC,IAAAA,SAAS,EAAEF,aAAIG,MAAJ,GACRC,GADQ,CACJ,CADI,EAERC,GAFQ,CAEJ,EAFI,EAGRC,QAHQ,EADa;AAKxBC,IAAAA,QAAQ,EAAEP,aAAIG,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,EAFG,EAGPC,QAHO,EALc;AASxBE,IAAAA,QAAQ,EAAER,aAAIG,MAAJ,GACPC,GADO,CACH,CADG,EAEPC,GAFO,CAEH,EAFG,EAGPC,QAHO,EATc;AAaxBG,IAAAA,KAAK,EAAET,aAAIG,MAAJ,GACJO,IADI,GAEJC,KAFI,CAEE,eAFF,EAGJL,QAHI,EAbiB;AAiBxBM,IAAAA,QAAQ,EAAEZ,aAAIG,MAAJ,GACPU,OADO,CACC,qBADD,EAEPT,GAFO,CAEH,EAFG,EAGPC,GAHO,CAGH,EAHG;AAjBc,GAAX,CAAf;;AAsBA,SAAON,MAAM,CAACe,QAAP,CAAgBhB,KAAhB,CAAP;AACD,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/helpers/validation","sourcesContent":["import Joi from '@hapi/joi';\n\nexport default input => {\n  const schema = Joi.object({\n    firstName: Joi.string()\n      .min(3)\n      .max(15)\n      .required(),\n    lastName: Joi.string()\n      .min(3)\n      .max(15)\n      .required(),\n    username: Joi.string()\n      .min(3)\n      .max(15)\n      .required(),\n    phone: Joi.string()\n      .trim()\n      .regex(/^[0-9]{7,12}$/)\n      .required(),\n    password: Joi.string()\n      .pattern(/^[a-zA-Z0-9]{1,30}$/)\n      .min(10)\n      .max(10)\n  });\n  return schema.validate(input);\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"949e26098b2848150f433345632ecf1490337cdd","contentHash":"c9ce957420f5053e44ccffaf45d5c0de4f67e2b5e2678f0bda69420a046d24f9"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/config/statusCode.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/config/statusCode.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":15},"end":{"line":20,"column":1}},"3":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["statusCode.js"],"names":["OK","CREATED","NO_CONTENT","BAD_REQUEST","UNAUTHORIZED","ACCESS_DENIED","NOT_FOUND","TIMEOUT","EXIST","SERVER_ERROR","NOT_MODIFIED","REDIRECT"],"mappings":";;;;;;eAAe;AACbA,EAAAA,EAAE,EAAE,GADS;AAEbC,EAAAA,OAAO,EAAE,GAFI;AAGbC,EAAAA,UAAU,EAAE,GAHC;AAIbC,EAAAA,WAAW,EAAE,GAJA;AAKbC,EAAAA,YAAY,EAAE,GALD;AAMbC,EAAAA,aAAa,EAAE,GANF;AAObC,EAAAA,SAAS,EAAE,GAPE;AAQbC,EAAAA,OAAO,EAAE,GARI;AASbC,EAAAA,KAAK,EAAE,GATM;AAUbC,EAAAA,YAAY,EAAE,GAVD;AAWbC,EAAAA,YAAY,EAAE,GAXD;AAYbC,EAAAA,QAAQ,EAAE;AAZG,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/config","sourcesContent":["export default {\n  OK: 200,\n  CREATED: 201,\n  NO_CONTENT: 204,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  ACCESS_DENIED: 403,\n  NOT_FOUND: 404,\n  TIMEOUT: 408,\n  EXIST: 409,\n  SERVER_ERROR: 500,\n  NOT_MODIFIED: 304,\n  REDIRECT: 302\n};"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2a27ee11bbcd43b72ae3669e97cf482805e9cc1e","contentHash":"24bc22b373308a17c036b7415daa4d5c57a6f301d5a30b3313fd5e84fc06f501"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers/ShopController.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers/ShopController.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":36}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":36}},"4":{"start":{"line":12,"column":18},"end":{"line":12,"column":73}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":18,"column":20},"end":{"line":18,"column":60}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":332}},"8":{"start":{"line":25,"column":8},"end":{"line":25,"column":18}},"9":{"start":{"line":26,"column":20},"end":{"line":28,"column":6}},"10":{"start":{"line":29,"column":4},"end":{"line":29,"column":232}},"11":{"start":{"line":35,"column":8},"end":{"line":35,"column":16}},"12":{"start":{"line":36,"column":18},"end":{"line":38,"column":6}},"13":{"start":{"line":39,"column":4},"end":{"line":39,"column":225}},"14":{"start":{"line":44,"column":0},"end":{"line":44,"column":33}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":2},"end":{"line":17,"column":3}},"loc":{"start":{"line":17,"column":39},"end":{"line":20,"column":3}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":2},"end":{"line":22,"column":3}},"loc":{"start":{"line":22,"column":36},"end":{"line":30,"column":3}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":2},"end":{"line":32,"column":3}},"loc":{"start":{"line":32,"column":37},"end":{"line":40,"column":3}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":331}},"type":"cond-expr","locations":[{"start":{"line":19,"column":120},"end":{"line":19,"column":221}},{"start":{"line":19,"column":224},"end":{"line":19,"column":331}}],"line":19},"3":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":117}},"type":"binary-expr","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":17}},{"start":{"line":19,"column":21},"end":{"line":19,"column":64}},{"start":{"line":19,"column":68},"end":{"line":19,"column":117}}],"line":19},"4":{"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":231}},"type":"cond-expr","locations":[{"start":{"line":29,"column":21},"end":{"line":29,"column":135}},{"start":{"line":29,"column":138},"end":{"line":29,"column":231}}],"line":29},"5":{"loc":{"start":{"line":39,"column":4},"end":{"line":39,"column":224}},"type":"cond-expr","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":107}},{"start":{"line":39,"column":110},"end":{"line":39,"column":224}}],"line":39}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["ShopController.js"],"names":["ShopController","createNewShop","req","res","newShop","body","error","name","statusCode","SERVER_ERROR","CREATED","deleteShop","shopName","params","deleted","errors","OK","getAllShops","owner","found"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AACe,MAAMA,cAAN,CAAqB;AAClC,eAAaC,aAAb,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqC;AACnC,UAAMC,OAAO,GAAG,MAAM,yBAAWF,GAAG,CAACG,IAAf,CAAtB;AACAD,IAAAA,OAAO,CAACE,KAAR,IACAF,OAAO,CAACG,IAAR,KAAiB,0BADjB,IAEAH,OAAO,CAACG,IAAR,KAAiB,gCAFjB,GAGI,4BACEJ,GADF,EAEEK,oBAAWC,YAFb,EAGE,iCAHF,CAHJ,GAQI,8BACEN,GADF,EAEEK,oBAAWE,OAFb,EAGE,iCAHF,EAIEN,OAJF,CARJ;AAcD;;AACD,eAAaO,UAAb,CAAwBT,GAAxB,EAA6BC,GAA7B,EAAkC;AAChC,UAAM;AAAES,MAAAA;AAAF,QAAeV,GAAG,CAACW,MAAzB;AACA,UAAMC,OAAO,GAAG,MAAM,yBAAW;AAAEF,MAAAA;AAAF,KAAX,CAAtB;AACAE,IAAAA,OAAO,CAACC,MAAR,GACI,4BACEZ,GADF,EAEEK,oBAAWC,YAFb,EAGE,wCAHF,EAIE,IAJF,CADJ,GAOI,8BAAgBN,GAAhB,EAAqBK,oBAAWQ,EAAhC,EAAoC,2BAApC,EAAiE,IAAjE,CAPJ;AAQD;;AACD,eAAaC,WAAb,CAAyBf,GAAzB,EAA8BC,GAA9B,EAAmC;AACjC,UAAM;AAAEe,MAAAA;AAAF,QAAYhB,GAAG,CAACG,IAAtB;AACA,UAAMc,KAAK,GAAG,MAAM,2BAAa;AAAED,MAAAA;AAAF,KAAb,CAApB;AACAC,IAAAA,KAAK,GACD,8BAAgBhB,GAAhB,EAAqBK,oBAAWQ,EAAhC,EAAoC,4BAApC,EAAkEG,KAAlE,CADC,GAED,4BACEhB,GADF,EAEEK,oBAAWC,YAFb,EAGE,wCAHF,EAIE,IAJF,CAFJ;AAQD;;AAzCiC","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/controllers","sourcesContent":["import { createShop, deleteShop, findAllShops } from '../queries';\nimport { successResponse, errorResponse } from '../helpers';\nimport statusCode from '../config/statusCode';\nexport default class ShopController {\n  static async createNewShop(req, res) {\n    const newShop = await createShop(req.body);\n    newShop.error ||\n    newShop.name === 'SequelizeValidationError' ||\n    newShop.name === 'SequelizeUniqueConstraintError'\n      ? errorResponse(\n          res,\n          statusCode.SERVER_ERROR,\n          'Something went wrong, try again'\n        )\n      : successResponse(\n          res,\n          statusCode.CREATED,\n          'You successfully created a shop',\n          newShop\n        );\n  }\n  static async deleteShop(req, res) {\n    const { shopName } = req.params;\n    const deleted = await deleteShop({ shopName });\n    deleted.errors\n      ? errorResponse(\n          res,\n          statusCode.SERVER_ERROR,\n          'Something went wrong, please try again',\n          null\n        )\n      : successResponse(res, statusCode.OK, 'Shop deleted successfully', null);\n  }\n  static async getAllShops(req, res) {\n    const { owner } = req.body;\n    const found = await findAllShops({ owner });\n    found\n      ? successResponse(res, statusCode.OK, 'Shops fetched successively', found)\n      : errorResponse(\n          res,\n          statusCode.SERVER_ERROR,\n          'Something went wrong, please try again',\n          null\n        );\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1afee64357f9b17c7a7825ea150c5e0e5c4ad808","contentHash":"3a0c844edb04bab9830f097638aa1e88675fe2cfc99e3dd3ba272509f1e39f79"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/users.middleware.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/users.middleware.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":102}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":73}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":36}},"4":{"start":{"line":12,"column":15},"end":{"line":12,"column":36}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":35},"end":{"line":21,"column":1}},"7":{"start":{"line":17,"column":20},"end":{"line":19,"column":4}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":122}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":64}},"10":{"start":{"line":25,"column":21},"end":{"line":42,"column":1}},"11":{"start":{"line":28,"column":6},"end":{"line":28,"column":14}},"12":{"start":{"line":29,"column":20},"end":{"line":31,"column":4}},"13":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"14":{"start":{"line":34,"column":4},"end":{"line":34,"column":119}},"15":{"start":{"line":37,"column":19},"end":{"line":40,"column":4}},"16":{"start":{"line":41,"column":2},"end":{"line":41,"column":138}},"17":{"start":{"line":44,"column":0},"end":{"line":44,"column":36}},"18":{"start":{"line":46,"column":33},"end":{"line":54,"column":1}},"19":{"start":{"line":49,"column":6},"end":{"line":49,"column":14}},"20":{"start":{"line":50,"column":20},"end":{"line":52,"column":4}},"21":{"start":{"line":53,"column":2},"end":{"line":53,"column":120}},"22":{"start":{"line":56,"column":0},"end":{"line":56,"column":60}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":35},"end":{"line":16,"column":36}},"loc":{"start":{"line":16,"column":61},"end":{"line":21,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":25,"column":21},"end":{"line":25,"column":22}},"loc":{"start":{"line":25,"column":47},"end":{"line":42,"column":1}},"line":25},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":33},"end":{"line":46,"column":34}},"loc":{"start":{"line":46,"column":59},"end":{"line":54,"column":1}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":20,"column":2},"end":{"line":20,"column":121}},"type":"cond-expr","locations":[{"start":{"line":20,"column":14},"end":{"line":20,"column":112}},{"start":{"line":20,"column":115},"end":{"line":20,"column":121}}],"line":20},"3":{"loc":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},{"start":{"line":33,"column":2},"end":{"line":35,"column":3}}],"line":33},"4":{"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":137}},"type":"cond-expr","locations":[{"start":{"line":41,"column":13},"end":{"line":41,"column":19}},{"start":{"line":41,"column":22},"end":{"line":41,"column":137}}],"line":41},"5":{"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":119}},"type":"cond-expr","locations":[{"start":{"line":53,"column":15},"end":{"line":53,"column":110}},{"start":{"line":53,"column":113},"end":{"line":53,"column":119}}],"line":53}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":1},"f":{"0":1,"1":1,"2":0,"3":0},"b":{"0":[1,0],"1":[1,1],"2":[0,1],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"sources":["users.middleware.js"],"names":["checkNumberExistMiddleware","req","res","next","checkUser","phone","body","statusCode","EXIST","isUserActive","NOT_FOUND","isActive","isVerified","checkUserExistMiddleware","owner","username"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,MAAMA,0BAA0B,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAClE,QAAMC,SAAS,GAAG,MAAM,uBAAS;AAAEC,IAAAA,KAAK,EAAEJ,GAAG,CAACK,IAAJ,CAASD;AAAlB,GAAT,CAAxB;AACAD,EAAAA,SAAS,GACL,8BACEF,GADF,EAEEK,oBAAWC,KAFb,EAGE,6BAHF,EAIE,IAJF,CADK,GAOLL,IAAI,EAPR;AAQD,CAVM;;;;AAWA,MAAMM,YAAY,GAAG,OAAOR,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACpD,QAAM;AAAEE,IAAAA;AAAF,MAAYJ,GAAG,CAACK,IAAtB;AACA,QAAMF,SAAS,GAAG,MAAM,uBAAS;AAAEC,IAAAA;AAAF,GAAT,CAAxB;;AAEA,MAAI,CAACD,SAAL,EAAgB;AACd,gCACEF,GADF,EAEEK,oBAAWG,SAFb,EAGE,iDAHF;AAKD;;AACD,QAAMC,QAAQ,GAAG,MAAM,uBAAS;AAAEN,IAAAA,KAAF;AAASO,IAAAA,UAAU,EAAE;AAArB,GAAT,CAAvB;AACAD,EAAAA,QAAQ,GACJR,IAAI,EADA,GAEJ,4BACED,GADF,EAEEK,oBAAWG,SAFb,EAGE,kDAHF,CAFJ;AAOD,CAnBM;;;;AAqBA,MAAMG,wBAAwB,GAAG,OAAOZ,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAChE,QAAM;AAAEW,IAAAA;AAAF,MAAYb,GAAG,CAACK,IAAtB;AACA,QAAMF,SAAS,GAAG,MAAM,uBAAS;AAAEW,IAAAA,QAAQ,EAAED;AAAZ,GAAT,CAAxB;AACA,GAACV,SAAD,GACI,8BAAgBF,GAAhB,EAAqBK,oBAAWG,SAAhC,EAA2C,sBAA3C,EAAmE,IAAnE,CADJ,GAEIP,IAAI,EAFR;AAGD,CANM","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware","sourcesContent":["import statusCode from '../config/statusCode';\nimport { findUser } from '../queries';\nimport { successResponse, errorResponse } from '../helpers';\n\nexport const checkNumberExistMiddleware = async (req, res, next) => {\n  const checkUser = await findUser({ phone: req.body.phone });\n  checkUser\n    ? successResponse(\n        res,\n        statusCode.EXIST,\n        'Phone number already exists',\n        null\n      )\n    : next();\n};\nexport const isUserActive = async (req, res, next) => {\n  const { phone } = req.body;\n  const checkUser = await findUser({ phone });\n\n  if (!checkUser) {\n    errorResponse(\n      res,\n      statusCode.NOT_FOUND,\n      \"User doesn't exist. Please register to continue\"\n    );\n  }\n  const isActive = await findUser({ phone, isVerified: true });\n  isActive\n    ? next()\n    : errorResponse(\n        res,\n        statusCode.NOT_FOUND,\n        'User is not active. Please activate your account'\n      );\n};\n\nexport const checkUserExistMiddleware = async (req, res, next) => {\n  const { owner } = req.body;\n  const checkUser = await findUser({ username: owner });\n  !checkUser\n    ? successResponse(res, statusCode.NOT_FOUND, 'User does not exists', null)\n    : next();\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9daae71004e30dcaac344b243e15919abeb17600","contentHash":"7ddc0219573921da44590bc910bb1bf3113060b174610323fff288a42e1b0154"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/validation.middleware.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/validation.middleware.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":73}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":36}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":15},"end":{"line":24,"column":1}},"6":{"start":{"line":17,"column":6},"end":{"line":17,"column":45}},"7":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"8":{"start":{"line":20,"column":4},"end":{"line":20,"column":123}},"9":{"start":{"line":23,"column":2},"end":{"line":23,"column":9}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":15},"end":{"line":14,"column":16}},"loc":{"start":{"line":14,"column":41},"end":{"line":24,"column":1}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},{"start":{"line":19,"column":2},"end":{"line":21,"column":3}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":1},"f":{"0":1,"1":1},"b":{"0":[1,0],"1":[1,1],"2":[0,1]},"inputSourceMap":{"version":3,"sources":["validation.middleware.js"],"names":["req","res","next","error","body","statusCode","BAD_REQUEST","details","message"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,OAAOA,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACvC,QAAM;AAAEC,IAAAA;AAAF,MAAY,8BAAgBH,GAAG,CAACI,IAApB,CAAlB;;AACA,MAAID,KAAJ,EAAW;AACT,WAAO,4BACLF,GADK,EAELI,oBAAWC,WAFN,EAGL,kBAHK,EAILH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,OAJZ,CAAP;AAMD;;AACDN,EAAAA,IAAI;AACL,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware","sourcesContent":["import statusCode from '../config/statusCode';\nimport { inputValidation, errorResponse } from '../helpers';\n\nexport default async (req, res, next) => {\n  const { error } = inputValidation(req.body);\n  if (error) {\n    return errorResponse(\n      res,\n      statusCode.BAD_REQUEST,\n      'Validation Error',\n      error.details[0].message\n    );\n  }\n  next();\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7c254773461ccd5cca7b226f3810024c2774cfe6","contentHash":"df4c45a605f4fd4ac09985cd0a72cfe178eacb5b09a18dcff62c8170c5d51c6c"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes/shop.route.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes/shop.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":44}},"4":{"start":{"line":12,"column":19},"end":{"line":12,"column":90}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":54}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":54}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":93}},"8":{"start":{"line":20,"column":14},"end":{"line":20,"column":36}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":147}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":122}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":98}},"12":{"start":{"line":24,"column":15},"end":{"line":24,"column":20}},"13":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":95}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":92}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":92}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":1},"b":{"0":[1,0],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["shop.route.js"],"names":["shops","post","verifyToken","checkUserExistMiddleware","checkShopNameExist","ShopController","createNewShop","delete","findShopNameExist","deleteShop","get","getAllShops"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAKA,MAAMA,KAAK,GAAG,sBAAd;AAEAA,KAAK,CAACC,IAAN,CACE,SADF,EAEEC,oBAFF,EAGEC,+BAHF,EAIEC,yBAJF,EAKEC,4BAAeC,aALjB;AAOAN,KAAK,CAACO,MAAN,CACE,mBADF,EAEEL,oBAFF,EAGEM,wBAHF,EAIEH,4BAAeI,UAJjB;AAMAT,KAAK,CAACU,GAAN,CAAU,YAAV,EAAuBP,+BAAvB,EAAiDE,4BAAeM,WAAhE;eAEeX,K","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/routes","sourcesContent":["import { Router } from 'express';\nimport { ShopController } from '../controllers';\nimport verifyToken from '../middleware/verifyToken.middleware';\nimport { checkUserExistMiddleware } from '../middleware/users.middleware';\nimport {\n  checkShopNameExist,\n  findShopNameExist\n} from '../middleware/shops.middleware';\n\nconst shops = Router();\n\nshops.post(\n  '/create',\n  verifyToken,\n  checkUserExistMiddleware,\n  checkShopNameExist,\n  ShopController.createNewShop\n);\nshops.delete(\n  '/delete/:shopName',\n  verifyToken,\n  findShopNameExist,\n  ShopController.deleteShop\n);\nshops.get('/getShops/',checkUserExistMiddleware, ShopController.getAllShops);\n\nexport default shops;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7c5af7d63aaa98a587fa2c616899d1a6422b2c9d","contentHash":"0a337f7b03cb433cbaaaf181ddbb996272793df3bc7a7914fd99bb9490a20e88"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/verifyToken.middleware.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/verifyToken.middleware.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":73}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":36}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":14,"column":15},"end":{"line":36,"column":1}},"6":{"start":{"line":15,"column":16},"end":{"line":15,"column":36}},"7":{"start":{"line":17,"column":2},"end":{"line":23,"column":3}},"8":{"start":{"line":18,"column":4},"end":{"line":22,"column":7}},"9":{"start":{"line":25,"column":17},"end":{"line":25,"column":55}},"10":{"start":{"line":27,"column":2},"end":{"line":33,"column":3}},"11":{"start":{"line":28,"column":4},"end":{"line":32,"column":7}},"12":{"start":{"line":35,"column":2},"end":{"line":35,"column":16}},"13":{"start":{"line":38,"column":0},"end":{"line":38,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":15},"end":{"line":14,"column":16}},"loc":{"start":{"line":14,"column":41},"end":{"line":36,"column":1}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":17,"column":2},"end":{"line":23,"column":3}},"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":23,"column":3}},{"start":{"line":17,"column":2},"end":{"line":23,"column":3}}],"line":17},"3":{"loc":{"start":{"line":27,"column":2},"end":{"line":33,"column":3}},"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":33,"column":3}},{"start":{"line":27,"column":2},"end":{"line":33,"column":3}}],"line":27},"4":{"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":30}},"type":"binary-expr","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":19}},{"start":{"line":27,"column":23},"end":{"line":27,"column":30}}],"line":27}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1},"f":{"0":1,"1":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["verifyToken.middleware.js"],"names":["req","res","next","token","headers","status","statusCode","UNAUTHORIZED","json","errors","authentication","decode"],"mappings":";;;;;;;AAAA;;AACA;;;;eACe,OAAOA,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACvC,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAY,OAAZ,CAAd;;AACA,MAAI,CAACD,KAAL,EAAY;AACV,WAAOF,GAAG,CACPI,MADI,CACGC,oBAAWC,YADd,EAEJC,IAFI,CAEC;AAAEC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,cAAc,EAAE;AAAlB;AAAV,KAFD,CAAP;AAGD;;AACD,QAAMC,MAAM,GAAG,MAAM,0BAAYR,KAAZ,CAArB;;AACA,MAAIQ,MAAM,CAACF,MAAP,IAAiB,CAACE,MAAtB,EAA8B;AAC5B,WAAOV,GAAG,CACPI,MADI,CACGC,oBAAWC,YADd,EAEJC,IAFI,CAEC;AAAEC,MAAAA,MAAM,EAAE;AAAEN,QAAAA,KAAK,EAAEQ,MAAM,CAACF;AAAhB;AAAV,KAFD,CAAP;AAGD;;AACD,SAAOP,IAAI,EAAX;AACD,C","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware","sourcesContent":["import statusCode from '../config/statusCode';\nimport { decodeToken } from '../helpers';\nexport default async (req, res, next) => {\n  const token = req.headers['token'];\n  if (!token) {\n    return res\n      .status(statusCode.UNAUTHORIZED)\n      .json({ errors: { authentication: ' Please sign in' } });\n  }\n  const decode = await decodeToken(token);\n  if (decode.errors || !decode) {\n    return res\n      .status(statusCode.UNAUTHORIZED)\n      .json({ errors: { token: decode.errors } });\n  }\n  return next();\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c65684c09b45852953678a5db0c6f4bb66cdf39f","contentHash":"5cf336b269039cb9ca31f6ab071ce06914dde46b9485278329e31048b7a3a8e3"},"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/shops.middleware.js":{"path":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware/shops.middleware.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":64}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":36}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":36}},"4":{"start":{"line":12,"column":18},"end":{"line":12,"column":73}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":16,"column":27},"end":{"line":24,"column":1}},"7":{"start":{"line":19,"column":6},"end":{"line":19,"column":14}},"8":{"start":{"line":20,"column":18},"end":{"line":22,"column":4}},"9":{"start":{"line":23,"column":2},"end":{"line":23,"column":116}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":48}},"11":{"start":{"line":28,"column":26},"end":{"line":36,"column":1}},"12":{"start":{"line":31,"column":6},"end":{"line":31,"column":16}},"13":{"start":{"line":32,"column":18},"end":{"line":34,"column":4}},"14":{"start":{"line":35,"column":2},"end":{"line":35,"column":116}},"15":{"start":{"line":38,"column":0},"end":{"line":38,"column":46}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":16,"column":27},"end":{"line":16,"column":28}},"loc":{"start":{"line":16,"column":53},"end":{"line":24,"column":1}},"line":16},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":26},"end":{"line":28,"column":27}},"loc":{"start":{"line":28,"column":52},"end":{"line":36,"column":1}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":115}},"type":"cond-expr","locations":[{"start":{"line":23,"column":12},"end":{"line":23,"column":106}},{"start":{"line":23,"column":109},"end":{"line":23,"column":115}}],"line":23},"3":{"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":115}},"type":"cond-expr","locations":[{"start":{"line":35,"column":13},"end":{"line":35,"column":106}},{"start":{"line":35,"column":109},"end":{"line":35,"column":115}}],"line":35}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"sources":["shops.middleware.js"],"names":["checkShopNameExist","req","res","next","shopName","body","checked","statusCode","EXIST","findShopNameExist","params"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEO,MAAMA,kBAAkB,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AAC1D,QAAM;AAAEC,IAAAA;AAAF,MAAeH,GAAG,CAACI,IAAzB;AACA,QAAMC,OAAO,GAAG,MAAM,uBAAS;AAAEF,IAAAA;AAAF,GAAT,CAAtB;AACAE,EAAAA,OAAO,GACH,8BAAgBJ,GAAhB,EAAqBK,oBAAWC,KAAhC,EAAuC,yBAAvC,EAAkE,IAAlE,CADG,GAEHL,IAAI,EAFR;AAGD,CANM;;;;AAOA,MAAMM,iBAAiB,GAAG,OAAOR,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;AACzD,QAAM;AAAEC,IAAAA;AAAF,MAAeH,GAAG,CAACS,MAAzB;AACA,QAAMJ,OAAO,GAAG,MAAM,uBAAS;AAAEF,IAAAA;AAAF,GAAT,CAAtB;AACA,GAACE,OAAD,GACI,4BAAcJ,GAAd,EAAmBK,oBAAWC,KAA9B,EAAqC,0BAArC,EAAiE,IAAjE,CADJ,GAEIL,IAAI,EAFR;AAGD,CANM","sourceRoot":"/Users/benedicte.musabimana/Documents/shopping/shopping-backend/src/middleware","sourcesContent":["import { findShop } from '../queries';\nimport { successResponse, errorResponse } from '../helpers';\nimport statusCode from '../config/statusCode';\n\nexport const checkShopNameExist = async (req, res, next) => {\n  const { shopName } = req.body;\n  const checked = await findShop({ shopName });\n  checked\n    ? successResponse(res, statusCode.EXIST, 'Shop name already exist', null)\n    : next();\n};\nexport const findShopNameExist = async (req, res, next) => { \n  const { shopName } = req.params;\n  const checked = await findShop({ shopName });\n  !checked\n    ? errorResponse(res, statusCode.EXIST, 'Shop name does not exist', null)\n    : next();\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5637945bb976ffdfd563144774271be6361dcb3c","contentHash":"05f06971e319e5b18b922eb69244151d2bca245134bbcc0be7efa337c4d0ae36"}}